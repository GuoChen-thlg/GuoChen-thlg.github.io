<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>nodeä¹‹module</title>
    <url>/2021/03/24/node%E4%B9%8Bmodule/17103/</url>
    <content><![CDATA[<p>åœ¨å‰ç«¯,åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„ js æ˜¯æ²¡æœ‰æ¨¡å—çš„æ¦‚å¿µçš„,ä½†å¦‚æœæŠŠ js æ”¾åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ,è‹¥åªæ˜¯ç®€å•çš„ä»£ç è¿˜å¥½è¯´,å¦‚æœåœ¨å¤§å‹é¡¹ç›®ä¸­å°±ä¼šæ˜¾å¾—éå¸¸å¤æ‚åŠ éš¾ä»¥è¿­ä»£ç»´æŠ¤,æ‰€ä»¥ node å¼•å…¥äº†æ¨¡å—çš„æ¦‚å¿µã€‚<br><br>é‚£æ¨¡å—æ˜¯å¦‚ä½•å®ç°äº’ä¸å½±å“,å„è‡ªåˆ†ç¦»çš„å‘¢?</p><a id="more"></a><p>æˆ‘ä»¬çŸ¥é“åœ¨ js ä¸­æƒ³è¦å®ç°ä»£ç ä¹‹é—´çš„äº’ä¸å½±å“,å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥åŠ ä»¥åˆ†éš”,ä½¿å‡½æ•°å†…éƒ¨çš„å˜é‡å¾…åœ¨è‡ªå·±çš„ä½œç”¨åŸŸèŒƒå›´å†….<br></p><p>é‚£ node æ˜¯ä¸æ˜¯è¿™æ ·å®ç°çš„å‘¢?é—®é¢˜æ¥äº†,å¦‚ä½•éªŒè¯æ˜¯åœ¨å‡½æ•°å†…éƒ¨?<br><br>åœ¨å‡½æ•°ä¸­æœ‰ä¸ªç‰¹æ®Šçš„å˜é‡ arguments</p><p>æ–°å»º index.js</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// {</span></span><br><span class="line"><span class="comment">//   '0': {},</span></span><br><span class="line"><span class="comment">//   '1': [Function: require] {</span></span><br><span class="line"><span class="comment">//     resolve: [Function: resolve] { paths: [Function: paths] },</span></span><br><span class="line"><span class="comment">//     main: Module {</span></span><br><span class="line"><span class="comment">//       id: '.',</span></span><br><span class="line"><span class="comment">//       path: 'c:\\Users\\Administrator\\Desktop\\node',</span></span><br><span class="line"><span class="comment">//       exports: {},</span></span><br><span class="line"><span class="comment">//       parent: null,</span></span><br><span class="line"><span class="comment">//       filename: 'c:\\Users\\Administrator\\Desktop\\node\\index.js',</span></span><br><span class="line"><span class="comment">//       loaded: false,</span></span><br><span class="line"><span class="comment">//       children: [],</span></span><br><span class="line"><span class="comment">//       paths: [Array]</span></span><br><span class="line"><span class="comment">//     },</span></span><br><span class="line"><span class="comment">//     extensions: [Object: null prototype] {</span></span><br><span class="line"><span class="comment">//       '.js': [Function],</span></span><br><span class="line"><span class="comment">//       '.json': [Function],</span></span><br><span class="line"><span class="comment">//       '.node': [Function]</span></span><br><span class="line"><span class="comment">//     },</span></span><br><span class="line"><span class="comment">//     cache: [Object: null prototype] {</span></span><br><span class="line"><span class="comment">//       'c:\\Users\\Administrator\\Desktop\\node\\index.js': [Module]</span></span><br><span class="line"><span class="comment">//     }</span></span><br><span class="line"><span class="comment">//   },</span></span><br><span class="line"><span class="comment">//   '2': Module {</span></span><br><span class="line"><span class="comment">//     id: '.',</span></span><br><span class="line"><span class="comment">//     path: 'c:\\Users\\Administrator\\Desktop\\node',</span></span><br><span class="line"><span class="comment">//     exports: {},</span></span><br><span class="line"><span class="comment">//     parent: null,</span></span><br><span class="line"><span class="comment">//     filename: 'c:\\Users\\Administrator\\Desktop\\node\\index.js',</span></span><br><span class="line"><span class="comment">//     loaded: false,</span></span><br><span class="line"><span class="comment">//     children: [],</span></span><br><span class="line"><span class="comment">//     paths: [</span></span><br><span class="line"><span class="comment">//       'c:\\Users\\Administrator\\Desktop\\node\\node_modules',</span></span><br><span class="line"><span class="comment">//       'c:\\Users\\Administrator\\Desktop\\node_modules',</span></span><br><span class="line"><span class="comment">//       'c:\\Users\\Administrator\\node_modules',</span></span><br><span class="line"><span class="comment">//       'c:\\Users\\node_modules',</span></span><br><span class="line"><span class="comment">//       'c:\\node_modules'</span></span><br><span class="line"><span class="comment">//     ]</span></span><br><span class="line"><span class="comment">//   },</span></span><br><span class="line"><span class="comment">//   '3': 'c:\\Users\\Administrator\\Desktop\\node\\index.js',</span></span><br><span class="line"><span class="comment">//   '4': 'c:\\Users\\Administrator\\Desktop\\node'</span></span><br><span class="line"><span class="comment">// }</span></span><br></pre></td></tr></tbody></table></figure><p>ç°åœ¨å¯ä»¥çŸ¥é“ç¡®å®æ˜¯åœ¨å‡½æ•°å†…éƒ¨,ä½†è¿™ä¸ªå‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ<br></p><p>ä½¿ç”¨ arguments å¯¹è±¡çš„ callee å±æ€§</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee)</span><br><span class="line"></span><br><span class="line"><span class="comment">// function (exports, require, module, __filename, __dirname) {</span></span><br><span class="line"><span class="comment">// console.log(arguments.callee.toString())</span></span><br><span class="line"><span class="comment">// }</span></span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥çœ‹åˆ°å¸¸ç”¨çš„ exports, require, module, *<em>filename, *</em>dirname æ˜¯ä»¥å‚æ•°å½¢å¼ä¼ è¿›æ¥çš„<br></p><p>é‚£ä¹ˆ exports å’Œ module.exports æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢?</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(exports === <span class="built_in">module</span>.exports)</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure><p>å³å®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</p><p>æ‰€æœ‰æˆ‘ä»¬åœ¨æ“ä½œ exports æ—¶ åªèƒ½é€šè¿‡å±æ€§æ¥èµ‹å€¼ã€‚è€Œ module.exports å´å¯ä»¥èµ‹å€¼ä¸€ä¸ªå¯¹è±¡</p><p>ä¸ªäººç†è§£,å¦‚æœ‰å¤±è¯¯,è¯·æŒ‡æ­£</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Node</category>
      </categories>
      <tags>
        <tag>node</tag>
        <tag>moule</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxç¬”è®°</title>
    <url>/2021/03/22/Linux%E7%AC%94%E8%AE%B0/24884/</url>
    <content><![CDATA[<p>linux å…¥é—¨ç¬”è®° è®°å½•æ“ä½œè¿‡ç¨‹</p><a id="more"></a><h1 id="å®‰è£…-node"><a href="#å®‰è£…-node" class="headerlink" title="å®‰è£… node"></a>å®‰è£… node</h1><h2 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h2><p><a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">Node å®˜ç½‘ä¸‹è½½åœ°å€</a></p><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">wegt https://nodejs.org/dist/v14.<span class="number">16.0</span>/<span class="keyword">node</span><span class="title">-v14</span>.<span class="number">16.0</span>-linux-x64.tar.xz</span><br></pre></td></tr></tbody></table></figure><p>æˆ–è€…æŠŠå®‰è£…åŒ…ä¸‹è½½åˆ°æœ¬åœ° å†ä¸Šä¼ åˆ°æœåŠ¡å™¨</p><h2 id="è§£å‹å®‰è£…åŒ…"><a href="#è§£å‹å®‰è£…åŒ…" class="headerlink" title="è§£å‹å®‰è£…åŒ…"></a>è§£å‹å®‰è£…åŒ…</h2><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">tar -xvf <span class="keyword">node</span><span class="title">-v14</span>.<span class="number">16.0</span>-linux-x64.tar.xz</span><br></pre></td></tr></tbody></table></figure><h2 id="é‡å‘½åå®‰è£…ç›®å½•"><a href="#é‡å‘½åå®‰è£…ç›®å½•" class="headerlink" title="é‡å‘½åå®‰è£…ç›®å½•"></a>é‡å‘½åå®‰è£…ç›®å½•</h2><p>å°†è§£å‹æ–‡ä»¶ç§»åŠ¨åˆ°ä½ æƒ³è¦å®‰è£…çš„æ–‡ä»¶å¤¹ä¸‹</p><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line">mv <span class="keyword">node</span><span class="title">-v14</span>.<span class="number">16.0</span>-linux-x64/  /usr/local/<span class="keyword">node</span><span class="title"></span></span><br></pre></td></tr></tbody></table></figure><h2 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h2><p>æ­¤å¤„ä¸ºè§£å‹æ–‡ä»¶ node çš„ bin æ–‡ä»¶å¤¹è·¯å¾„</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"export PATH=<span class="variable">$PATH</span>:/usr/local/node/bin"</span> &gt;&gt; /etc/profile</span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><figure class="highlight gradle"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></tbody></table></figure><h2 id="æ£€æŸ¥å®‰è£…ç»“æœ"><a href="#æ£€æŸ¥å®‰è£…ç»“æœ" class="headerlink" title="æ£€æŸ¥å®‰è£…ç»“æœ"></a>æ£€æŸ¥å®‰è£…ç»“æœ</h2><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br><span class="line">npm -v</span><br></pre></td></tr></tbody></table></figure><p>æœªå®Œ â€¦â€¦</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>pm2å‘½ä»¤</title>
    <url>/2021/03/20/pm2%E5%91%BD%E4%BB%A4/18509/</url>
    <content><![CDATA[<p>pm2 å‘½ä»¤ é€ŸæŸ¥</p><a id="more"></a><p>ç”¨æ³•:</p><pre><code>pm2 [cmd] app</code></pre><p>é€‰é¡¹:</p><pre><code>-V, --version                                                è¾“å‡ºç‰ˆæœ¬å·
-v --version                                                 æ‰“å°PM2ç‰ˆæœ¬
-s --silent                                                  éšè—æ‰€æœ‰æ¶ˆæ¯
--ext &lt;extensions&gt;                                           ä»…ç›‘è§†æ­¤æ–‡ä»¶æ‰©å±•
-n --name &lt;name&gt;                                             åœ¨è¿›ç¨‹åˆ—è¡¨ä¸­è®¾ç½®ä¸€ä¸ªåç§°
-m --mini-list                                               æ˜¾ç¤ºæ— æ ¼å¼åŒ–çš„å‹ç¼©åˆ—è¡¨
--interpreter &lt;interpreter&gt;                                  è®¾ç½®ç”¨äºæ‰§è¡Œåº”ç”¨ç¨‹åºçš„ç‰¹å®šè§£é‡Šå™¨ï¼Œé»˜è®¤ä¸ºï¼šnode
--interpreter-args &lt;arguments&gt;                               è®¾ç½®ä¼ é€’ç»™è§£é‡Šå™¨çš„å‚æ•°ï¼ˆ--node-argsçš„åˆ«åï¼‰ 
--node-args &lt;node_args&gt;                                      è¦ä¼ é€’ç»™èŠ‚ç‚¹çš„ç©ºé—´åˆ†éš”çš„å‚æ•°
-o --output &lt;path&gt;                                           ä¸ºstdoutæŒ‡å®šæ—¥å¿—æ–‡ä»¶
-e --error &lt;path&gt;                                            ä¸ºstderræŒ‡å®šæ—¥å¿—æ–‡ä»¶
-l --log [path]                                              æŒ‡å®šè®°å½•æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¼šæ”¶é›†stdoutå’Œstderr
--filter-env [envs]                                          è¿‡æ»¤æ‰è¾“å‡ºåŒ…å«æä¾›å­—ç¬¦ä¸²çš„å…¨å±€å€¼</code></pre><p>(é»˜è®¤: )</p><pre><code>--log-type &lt;type&gt;                                            æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ·å¼ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒJSONå¯é€‰ï¼‰        
--log-date-format &lt;date format&gt;                              å°†è‡ªå®šä¹‰å‰ç¼€æ—¶é—´æˆ³æ·»åŠ åˆ°æ—¥å¿—
--time                                                       å¯ç”¨æ—¶é—´æ—¥å¿—è®°å½•
--disable-logs                                               ç¦ç”¨æ‰€æœ‰æ—¥å¿—å­˜å‚¨
--env &lt;environment_name&gt;                                     æŒ‡å®šå¿…é¡»æ³¨å…¥ç”Ÿæ€ç³»ç»Ÿæ–‡ä»¶çš„å“ªäº›ç¯å¢ƒå˜é‡
-a --update-env                                              ä½¿ç”¨é‡æ–°å¯åŠ¨/é‡æ–°åŠ è½½æ›´æ–°ç¯å¢ƒ (-A &lt;=&gt; Apply)
-f --force                                                   å¼ºè¿«è¡ŒåŠ¨
-i --instances &lt;number&gt;                                      å¯åŠ¨[ç¼–å·]å®ä¾‹ï¼ˆå¯¹äºç½‘ç»œåº”ç”¨ç¨‹åºï¼‰ï¼ˆè´Ÿè½½å¹³è¡¡ï¼‰    
--parallel &lt;number&gt;                                          å¹¶è¡Œæ“ä½œçš„æ•°é‡ï¼ˆç”¨äºé‡å¯/é‡æ–°åŠ è½½ï¼‰
--shutdown-with-message                                      ä½¿ç”¨process.sendï¼ˆ'shutdown'ï¼‰è€Œä¸æ˜¯process.killï¼ˆpidï¼Œsigintï¼‰çš„åº”ç”¨ç¨‹åº
-p --pid &lt;pid&gt;                                               æŒ‡å®šPIDæ–‡ä»¶
-k --kill-timeout &lt;delay&gt;                                    åœ¨å‘é€æœ€ç»ˆçš„Sigkillä¿¡å·ä¹‹å‰å»¶è¿Ÿåˆ°è¿‡ç¨‹
--listen-timeout &lt;delay&gt;                                     è†å¬åº”ç”¨ç¨‹åºé‡æ–°åŠ è½½æ—¶çš„è¶…æ—¶
--max-memory-restart &lt;memory&gt;                                å¦‚æœè¶…å‡ºäº†å­˜å‚¨é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ï¼Œåˆ™é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åº
--restart-delay &lt;delay&gt;                                      åœ¨é‡æ–°å¯åŠ¨ä¹‹é—´æŒ‡å®šå»¶è¿Ÿï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
--exp-backoff-restart-delay &lt;delay&gt;                          åœ¨é‡æ–°å¯åŠ¨ä¹‹é—´æŒ‡å®šå»¶è¿Ÿï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰
-x --execute-command                                         ä½¿ç”¨Forkç³»ç»Ÿæ‰§è¡Œç¨‹åº
--max-restarts [count]                                       åªé‡æ–°å¯åŠ¨è„šæœ¬è®¡æ•°æ—¶é—´
-u --user &lt;username&gt;                                         ç”Ÿæˆå¯åŠ¨è„šæœ¬æ—¶å®šä¹‰ç”¨æˆ·
--uid &lt;uid&gt;                                                  ä½¿ç”¨&lt;uid&gt;æƒé™è¿è¡Œç›®æ ‡è„šæœ¬
--gid &lt;gid&gt;                                                  ä½¿ç”¨&lt;gid&gt;æƒé™è¿è¡Œç›®æ ‡è„šæœ¬
--namespace &lt;ns&gt;                                             åœ¨æŒ‡å®šçš„å‘½åç©ºé—´ä¸­å¯åŠ¨åº”ç”¨ç¨‹åº
--cwd &lt;path&gt;                                                 ä»è·¯å¾„&lt;cwd&gt;è¿è¡Œç›®æ ‡è„šæœ¬
--hp &lt;home path&gt;                                             ç”Ÿæˆå¯åŠ¨è„šæœ¬æ—¶å®šä¹‰ä¸»è·¯å¾„
--wait-ip                                                    è¦†ç›–Systemdè„šæœ¬ç­‰å¾…å®Œå…¨äº’è”ç½‘è¿æ¥å¯åŠ¨PM2
--service-name &lt;name&gt;                                        ç”Ÿæˆå¯åŠ¨è„šæœ¬æ—¶å®šä¹‰æœåŠ¡åç§°
-c --cron &lt;cron_pattern&gt;                                     åŸºäºCronæ¨¡å¼é‡æ–°å¯åŠ¨è¿è¡Œè¿‡ç¨‹
-c --cron-restart &lt;cron_pattern&gt;                             ï¼ˆåˆ«åï¼‰æ ¹æ®Cronæ¨¡å¼é‡æ–°å¯åŠ¨è¿è¡Œè¿›ç¨‹
-w --write                                                   åœ¨æœ¬åœ°æ–‡ä»¶å¤¹ä¸­å†™å…¥é…ç½®
--no-daemon                                                  å¦‚æœå®ƒä¸å­˜åœ¨ï¼Œè¯·åœ¨å‰å°è¿è¡ŒPM2å®ˆæŠ¤ç¨‹åº
--source-map-support                                         å¼ºåˆ¶æºåœ°å›¾æ”¯æŒ
--only &lt;application-name&gt;                                    ä½¿ç”¨JSONå£°æ˜ï¼Œå…è®¸ä»…åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸Šè¡ŒåŠ¨
--disable-source-map-support                                 å¼ºåˆ¶æºåœ°å›¾æ”¯æŒ
--wait-ready                                                 è¯¢é—®PM2ç­‰å¾…æ‚¨çš„åº”ç”¨ç¨‹åºçš„å‡†å¤‡å¥½äº‹ä»¶
--merge-logs                                                 åˆå¹¶æ¥è‡ªä¸åŒå®ä¾‹çš„æ—¥å¿—ï¼Œä½†ä¿æŒé”™è¯¯å’Œåˆ†å¼€
--watch [paths]                                              ç›‘è§†æ›´æ”¹çš„åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹(é»˜è®¤å€¼:)
--ignore-watch &lt;folders|files&gt;                               å¿½ç•¥ï¼ˆåç§°æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼‰çš„è·¯å¾„åˆ—è¡¨
--watch-delay &lt;delay&gt;                                        æ›´æ”¹æ–‡ä»¶åæŒ‡å®šé‡å¯å»¶è¿Ÿ (--watch-delay 4 (in sec) or 4000ms)
--no-color                                                   è·³è¿‡é¢œè‰²
--no-vizion                                                  å¯åŠ¨ä¸å¸¦VizionåŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼ˆç‰ˆæœ¬æ§åˆ¶æ§åˆ¶ï¼‰
--no-autorestart                                             åœ¨æ²¡æœ‰è‡ªåŠ¨é‡å¯çš„æƒ…å†µä¸‹å¯åŠ¨åº”ç”¨ç¨‹åº
--no-treekill                                                åªæ€æ­»ä¸»è¦è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ç‹¬ç«‹çš„å­©å­
--no-pmx                                                     åœ¨æ²¡æœ‰PMXçš„æƒ…å†µä¸‹å¯åŠ¨ä¸€ä¸ªåº”ç”¨ç¨‹åº
--no-automation                                              åœ¨æ²¡æœ‰PMXçš„æƒ…å†µä¸‹å¯åŠ¨ä¸€ä¸ªåº”ç”¨ç¨‹åº
--trace                                                      å¯ç”¨ä¸KMçš„äº¤æ˜“è·Ÿè¸ª
--disable-trace                                              ç”¨KMç¦ç”¨äº¤æ˜“è·Ÿè¸ª
--sort &lt;field_name:sort&gt;                                     æ ¹æ®å­—æ®µçš„åç§°æ’åºè¿‡ç¨‹
--attach                                                     å¯åŠ¨/é‡å¯/åœæ­¢/é‡æ–°åŠ è½½åé™„åŠ æ—¥å¿—è®°å½•
--v8                                                         å¯ç”¨V8æ•°æ®æ”¶é›†
--event-loop-inspector                                       åœ¨PMXä¸­å¯ç”¨äº‹ä»¶å¾ªç¯æ£€æŸ¥å™¨è½¬å‚¨
--deep-monitoring                                            å¯ç”¨æ‰€æœ‰ç›‘æ§å·¥å…·(equivalent to --v8 --event-loop-inspector --trace)
-h, --help                                                   è¾“å‡ºä½¿ç”¨ä¿¡æ¯</code></pre><p>å‘½ä»¤:</p><pre><code>start [options] [name|namespace|file|ecosystem|id...]        å¯åŠ¨å’Œå®ˆæŠ¤åˆ°åº”ç”¨ç¨‹åº
trigger &lt;id|proc_name|namespace|all&gt; &lt;action_name&gt; [params]  è§¦å‘è¿‡ç¨‹åŠ¨ä½œ
deploy &lt;file|environment&gt;                                    éƒ¨ç½²æ‚¨çš„JSON.
startOrRestart &lt;json&gt;                                        å¯åŠ¨æˆ–é‡æ–°å¯åŠ¨JSONæ–‡ä»¶
startOrReload &lt;json&gt;                                         å¼€å§‹æˆ–ä¼˜é›…åœ°é‡æ–°åŠ è½½JSONæ–‡ä»¶
pid [app_name]                                               è¿”å›[app_name]æˆ–å…¨éƒ¨çš„pid
create                                                       è¿”å›[app_name]æˆ–å…¨éƒ¨çš„pid
startOrGracefulReload &lt;json&gt;                                 å¼€å§‹æˆ–ä¼˜é›…åœ°é‡æ–°åŠ è½½JSONæ–‡ä»¶
stop [options] &lt;id|name|namespace|all|json|stdin...&gt;         åœæ­¢ä¸€ä¸ªè¿‡ç¨‹
restart [options] &lt;id|name|namespace|all|json|stdin...&gt;      é‡æ–°å¯åŠ¨ä¸€ä¸ªè¿‡ç¨‹
scale &lt;app_name&gt; &lt;number&gt;                                    å–å†³äºTotal_Numbeçš„ç¾¤é›†æ¨¡å¼ä¸­çš„è¿‡ç¨‹ä¸Š/ä¸‹é™r param
profile:mem [time]                                           æ ·æœ¬PM2å †å†…å­˜
profile:cpu [time]                                           ä¸ªäººèµ„æ–™PM2 CPU.
reload &lt;id|name|namespace|all&gt;                               é‡æ–°åŠ è½½æµç¨‹ï¼ˆè¯·æ³¨æ„å…¶ç”¨äºåº”ç”¨http / httpsçš„åº”ç”¨ç¨‹åºï¼‰
id &lt;name&gt;                                                    æŒ‰åç§°è·å–è¿›ç¨‹ID
inspect &lt;name&gt;                                               æ£€æŸ¥ä¸€ä¸ªè¿‡ç¨‹
delete|del &lt;name|id|namespace|script|all|json|stdin...&gt;      åœæ­¢å¹¶åˆ é™¤PM2è¿›ç¨‹åˆ—è¡¨çš„è¿›ç¨‹
sendSignal &lt;signal&gt; &lt;pm2_id|name&gt;                            å‘ç›®æ ‡è¿‡ç¨‹å‘é€ç³»ç»Ÿä¿¡å·
ping                                                         ping pm2å®ˆæŠ¤è¿›ç¨‹ - å¦‚æœä¸æ˜¯ï¼Œå®ƒå°†æ¨å‡ºå®ƒ
updatePM2                                                    ä½¿ç”¨æœ¬åœ°PM2æ›´æ–°å†…å­˜ä¸­PM2
update                                                       (åˆ«å)ä½¿ç”¨æœ¬åœ°PM2æ›´æ–°å†…å­˜ä¸­PM2
install|module:install [options] &lt;module|git:/&gt;              å®‰è£…æˆ–æ›´æ–°æ¨¡å—å¹¶æ°¸ä¹…è¿è¡Œå®ƒ
module:update &lt;module|git:/&gt;                                 æ›´æ–°æ¨¡å—å¹¶æ°¸ä¹…è¿è¡Œå®ƒ
module:generate [app_name]                                   åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆç¤ºä¾‹æ¨¡å—
uninstall|module:uninstall &lt;module&gt;                          åœæ­¢å¹¶å¸è½½æ¨¡å—
package [target]                                             æ£€æŸ¥å’ŒåŒ…ç„¦æ²¹ç±»å‹æ¨¡å—
publish|module:publish [options] [folder]                    å‘å¸ƒæ‚¨ç›®å‰çš„æ¨¡å—
set [key] [value]                                            è®¾ç½®æŒ‡å®šçš„Config &lt;key&gt; &lt;value&gt;
multiset &lt;value&gt;                                             Multiset Egä¾‹å¦‚â€œkey1 Val1é”®2 Val2
get [key]                                                    è·å–&lt;key&gt;çš„å€¼
conf [key] [value]                                           è·å–/è®¾ç½®æ¨¡å—é…ç½®å€¼
config &lt;key&gt; [value]                                         è·å–/è®¾ç½®æ¨¡å—é…ç½®å€¼
unset &lt;key&gt;                                                  æ¸…é™¤æŒ‡å®šçš„Config &lt;key&gt;
report                                                       ä¸ºhttps://github.com/unitech/pm2/issuesæä¾›å®Œæ•´çš„PM2æŠ¥å‘Š   
link [options] [secret] [public] [name]                      é“¾æ¥PM2ç›‘æ§ä»ªè¡¨æ¿
unlink                                                       ä¸PM2ç›‘æ§ä»ªè¡¨æ¿å–æ¶ˆé“¾æ¥
monitor [name]                                               ç›‘æ§ç›®æ ‡è¿‡ç¨‹
unmonitor [name]                                             æœªè§£é‡Šç›®æ ‡è¿‡ç¨‹
open                                                         æ‰“å¼€PM2ç›‘æ§ä»ªè¡¨æ¿
plus|register [options] [command] [option]                   å¯ç”¨PM2 Plus
login                                                        ç™»å½•PM2 Plus Logout
logout                                                       ä»PM2 Plusé€€å‡º
dump|save [options]                                          è½¬å‚¨ç¨åå°†å…¶å¤æ´»çš„æ‰€æœ‰æµç¨‹
cleardump                                                    åˆ›å»ºç©ºè½¬å‚¨æ–‡ä»¶
send &lt;pm_id&gt; &lt;line&gt;                                          å°† stdin å‘é€åˆ°&lt;pm_id&gt;
attach &lt;pm_id&gt; [comman]                                      å°† stdin / stdout  é™„åŠ åˆ°ç”±&lt;pm_id&gt;æ ‡è¯†çš„åº”ç”¨ç¨‹åº
resurrect                                                    å¤æ´»ä»¥å‰å€¾å€’çš„æµç¨‹
unstartup [platform]                                         ç¦ç”¨PM2å¯åŠ¨é’©å­
startup [platform]                                           å¯ç”¨PM2å¯åŠ¨æŒ‚é’©
logrotate                                                    å¤åˆ¶é»˜è®¤çš„Logotateé…ç½®
ecosystem|init [mode]                                        ç”Ÿæˆæµç¨‹confæ–‡ä»¶ã€‚ ï¼ˆmode = nullæˆ–ç®€å•ï¼‰
reset &lt;name|id|all&gt;                                          é‡ç½®è¿‡ç¨‹çš„è®¡æ•°å™¨
describe &lt;name|id&gt;                                           æè¿°ä¸€ä¸ªè¿‡ç¨‹çš„æ‰€æœ‰å‚æ•°
desc &lt;name|id&gt;                                               (åˆ«å)æè¿°ä¸€ä¸ªè¿‡ç¨‹çš„æ‰€æœ‰å‚æ•°
info &lt;name|id&gt;                                               (åˆ«å)æè¿°ä¸€ä¸ªè¿‡ç¨‹çš„æ‰€æœ‰å‚æ•°
show &lt;name|id&gt;                                               (åˆ«å)æè¿°ä¸€ä¸ªè¿‡ç¨‹çš„æ‰€æœ‰å‚æ•°
env &lt;id&gt;                                                     åˆ—å‡ºè¿›ç¨‹IDçš„æ‰€æœ‰ç¯å¢ƒå˜é‡
list|ls                                                      åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
l                                                            (åˆ«å)åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
ps                                                           (åˆ«å)åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
status                                                       (åˆ«å)åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹
jlist                                                        åˆ—å‡ºJSONæ ¼å¼çš„æ‰€æœ‰è¿›ç¨‹
sysmonit                                                     å¯åŠ¨ç³»ç»Ÿç›‘æ§å®ˆæŠ¤ç¨‹åº
slist|sysinfos [options]                                     åˆ—å‡ºJSONä¸­çš„ç³»ç»Ÿä¿¡æ¯
prettylist                                                   æ‰“å°jsonåœ¨ä¸€ä¸ªæ¥é©³çš„jsonä¸­
monit                                                        å¯åŠ¨ç»ˆç«¯ç›‘æµ‹
imonit                                                       å¯åŠ¨é—ç•™ç»ˆç«¯ç›‘æµ‹
dashboard|dash                                               ä½¿ç”¨ç›‘æ§å’Œæ—¥å¿—å¯åŠ¨ä»ªè¡¨æ¿
flush [api]                                                  å†²æ´—æ—¥å¿—</code></pre><p><a href="https://github.com/Unitech/pm2" target="_blank" rel="noopener">Github Pm2</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å¤‡å¿˜å½•</category>
      </categories>
      <tags>
        <tag>pm2</tag>
        <tag>å®ˆæŠ¤è¿›ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå¸¸ç”¨å‘½ä»¤</title>
    <url>/2021/03/08/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/7065/</url>
    <content><![CDATA[<p>Git å¸¸ç”¨å‘½ä»¤ (å¤‡å¿˜)</p><a id="more"></a><h3 id="åˆ†æ”¯å‘½åè§„èŒƒ"><a href="#åˆ†æ”¯å‘½åè§„èŒƒ" class="headerlink" title="åˆ†æ”¯å‘½åè§„èŒƒ"></a>åˆ†æ”¯å‘½åè§„èŒƒ</h3><ul><li><strong>master</strong> ä¸»åˆ†æ”¯<ul><li>ä¸»åˆ†æ”¯ï¼Œæ°¸è¿œæ˜¯å¯ç”¨çš„ã€ç¨³å®šçš„ã€å¯ç›´æ¥å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œä¸èƒ½ç›´æ¥åœ¨è¯¥åˆ†æ”¯ä¸Šå¼€å‘</li></ul></li><li><strong>develop</strong> å¼€å‘åˆ†æ”¯<ul><li>å¼€å‘ä¸»åˆ†æ”¯ï¼Œä»£ç æ°¸è¿œæ˜¯æœ€æ–°ï¼Œæ‰€æœ‰æ–°åŠŸèƒ½ä»¥è¿™ä¸ªåˆ†æ”¯æ¥åˆ›å»ºè‡ªå·±çš„å¼€å‘åˆ†æ”¯ï¼Œè¯¥åˆ†æ”¯åªåšåªåˆå¹¶æ“ä½œï¼Œä¸èƒ½ç›´æ¥åœ¨è¯¥åˆ†æ”¯ä¸Šå¼€å‘</li></ul></li><li><strong>feature-xxx</strong><ul><li>åŠŸèƒ½å¼€å‘åˆ†æ”¯ï¼Œåœ¨<code>develop</code>ä¸Šåˆ›å»ºåˆ†æ”¯ï¼Œä»¥è‡ªå·±å¼€å‘åŠŸèƒ½æ¨¡å—å‘½åï¼ŒåŠŸèƒ½æµ‹è¯•æ­£å¸¸ååˆå¹¶åˆ°<code>develop</code>åˆ†æ”¯</li></ul></li><li><strong>release</strong><ul><li>é¢„å‘å¸ƒåˆ†æ”¯ï¼Œåœ¨åˆå¹¶å¥½<code>feature</code>åˆ†æ”¯çš„<code>develop</code>åˆ†æ”¯ä¸Šåˆ›å»ºï¼Œä¸»è¦æ˜¯ç”¨æ¥ææµ‹çš„åˆ†æ”¯ï¼Œä¿®æ”¹å¥½bugå¹¶ç¡®å®šç¨³å®šä¹‹ååˆå¹¶åˆ°<code>develop</code>å’Œ<code>master</code>åˆ†æ”¯ï¼Œç„¶åå‘å¸ƒ<code>master</code>åˆ†æ”¯</li></ul></li><li><strong>release-fix</strong><ul><li>åŠŸèƒ½bugä¿®å¤åˆ†æ”¯ï¼Œåœ¨<code>release</code>ä¸Šåˆ›å»ºåˆ†æ”¯ä¿®å¤ï¼Œä¿®å¤å¥½ææµ‹çš„bugä¹‹ååˆå¹¶å›<code>release</code>åˆ†æ”¯</li></ul></li><li><strong>hotfix-xxx</strong><ul><li>ç´§æ€¥bugä¿®æ”¹åˆ†æ”¯ï¼Œé¡¹ç›®ä¸Šçº¿ä¹‹åå¯ä»¥ä¼šé‡åˆ°ä¸€äº›ç¯å¢ƒé—®é¢˜éœ€è¦ç´§æ€¥ä¿®å¤ï¼Œåœ¨å¯¹åº”ç‰ˆæœ¬çš„ <code>release</code> åˆ†æ”¯ä¸Šåˆ›å»ºï¼Œæµç¨‹è·Ÿ<code>release</code>åˆ†æ”¯ç›¸ä¼¼ï¼Œä¿®å¤å®Œæˆååˆå¹¶<code>release</code>åˆ†æ”¯ï¼Œæ ¹æ®æƒ…å†µåˆ¤æ–­éœ€ä¸éœ€è¦å†åˆå¹¶åˆ°<code>develop</code>å’Œ<code>master</code>åˆ†æ”¯</li></ul></li></ul><h3 id="Git-å‘½ä»¤"><a href="#Git-å‘½ä»¤" class="headerlink" title="Git å‘½ä»¤"></a>Git å‘½ä»¤</h3><table><thead><tr><th align="left">git init</th><th align="left">åˆå§‹åŒ–æœ¬åœ°gitä»“åº“ï¼ˆåˆ›å»ºæ–°ä»“åº“ï¼‰</th></tr></thead><tbody><tr><td align="left">git config â€“global user.name â€œxxxâ€</td><td align="left">é…ç½®ç”¨æˆ·å</td></tr><tr><td align="left">git config â€“global user.email â€œ<a href="mailto:xxx@xxx.com">xxx@xxx.com</a>â€œ</td><td align="left">é…ç½®é‚®ä»¶</td></tr><tr><td align="left">git config â€“global color.ui true</td><td align="left">git statusç­‰å‘½ä»¤è‡ªåŠ¨ç€è‰²</td></tr><tr><td align="left">git config â€“global color.status auto</td><td align="left"></td></tr><tr><td align="left">git config â€“global color.diff auto</td><td align="left"></td></tr><tr><td align="left">git config â€“global color.branch auto</td><td align="left"></td></tr><tr><td align="left">git config â€“global color.interactive auto</td><td align="left"></td></tr><tr><td align="left">git config â€“global â€“unset http.proxy</td><td align="left">åˆ é™¤gitä¸Šçš„ä»£ç†é…ç½®</td></tr><tr><td align="left">git clone git+ssh://git@192.168.53.168/VT.git</td><td align="left">å…‹éš†è¿œç¨‹ä»“åº“</td></tr><tr><td align="left">git status</td><td align="left">æŸ¥çœ‹å½“å‰ç‰ˆæœ¬çŠ¶æ€ï¼ˆæ˜¯å¦ä¿®æ”¹ï¼‰</td></tr><tr><td align="left">git add xyz</td><td align="left">æ·»åŠ xyzæ–‡ä»¶è‡³index</td></tr><tr><td align="left">git add .</td><td align="left">å¢åŠ å½“å‰å­ç›®å½•ä¸‹æ‰€æœ‰æ›´æ”¹è¿‡çš„æ–‡ä»¶è‡³index</td></tr><tr><td align="left">git commit -m â€˜xxxâ€™</td><td align="left">æäº¤</td></tr><tr><td align="left">git commit â€“amend -m â€˜xxxâ€™</td><td align="left">åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ï¼ˆç”¨äºåå¤ä¿®æ”¹ï¼‰</td></tr><tr><td align="left">git commit -am â€˜xxxâ€™</td><td align="left">å°†addå’Œcommitåˆä¸ºä¸€æ­¥</td></tr><tr><td align="left">git rm xxx</td><td align="left">åˆ é™¤indexä¸­çš„æ–‡ä»¶</td></tr><tr><td align="left">git rm -r</td><td align="left">é€’å½’åˆ é™¤</td></tr><tr><td align="left">git log</td><td align="left">æ˜¾ç¤ºæäº¤æ—¥å¿—</td></tr><tr><td align="left">git log -1</td><td align="left">æ˜¾ç¤º1è¡Œæ—¥å¿— -nä¸ºnè¡Œ</td></tr><tr><td align="left">git log -5</td><td align="left"></td></tr><tr><td align="left">git log â€“stat</td><td align="left">æ˜¾ç¤ºæäº¤æ—¥å¿—åŠç›¸å…³å˜åŠ¨æ–‡ä»¶</td></tr><tr><td align="left">git log -p -m</td><td align="left"></td></tr><tr><td align="left">git show dfb02e6e4f2f7b573337763e5c0013802e392818</td><td align="left">æ˜¾ç¤ºæŸä¸ªæäº¤çš„è¯¦ç»†å†…å®¹</td></tr><tr><td align="left">git show dfb02</td><td align="left">å¯åªç”¨commitidçš„å‰å‡ ä½</td></tr><tr><td align="left">git show HEAD</td><td align="left">æ˜¾ç¤ºHEADæäº¤æ—¥å¿—</td></tr><tr><td align="left">git show HEAD^</td><td align="left">æ˜¾ç¤ºHEADçš„çˆ¶ï¼ˆä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰çš„æäº¤æ—¥å¿— ^^ä¸ºä¸Šä¸¤ä¸ªç‰ˆæœ¬ ^5ä¸ºä¸Š5ä¸ªç‰ˆæœ¬</td></tr><tr><td align="left">git tag</td><td align="left">æ˜¾ç¤ºå·²å­˜åœ¨çš„tag</td></tr><tr><td align="left">git tag -a v2.0 -m â€˜xxxâ€™</td><td align="left">å¢åŠ v2.0çš„tag</td></tr><tr><td align="left">git show v2.0</td><td align="left">æ˜¾ç¤ºv2.0çš„æ—¥å¿—åŠè¯¦ç»†å†…å®¹</td></tr><tr><td align="left">git log v2.0</td><td align="left">æ˜¾ç¤ºv2.0çš„æ—¥å¿—</td></tr><tr><td align="left">git diff</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰æœªæ·»åŠ è‡³indexçš„å˜æ›´</td></tr><tr><td align="left">git diff â€“cached</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰å·²æ·»åŠ indexä½†è¿˜æœªcommitçš„å˜æ›´</td></tr><tr><td align="left">git diff HEAD^</td><td align="left">æ¯”è¾ƒä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„å·®å¼‚</td></tr><tr><td align="left">git diff HEAD â€“ ./lib</td><td align="left">æ¯”è¾ƒä¸HEADç‰ˆæœ¬libç›®å½•çš„å·®å¼‚</td></tr><tr><td align="left">git diff origin/master..master</td><td align="left">æ¯”è¾ƒè¿œç¨‹åˆ†æ”¯masterä¸Šæœ‰æœ¬åœ°åˆ†æ”¯masterä¸Šæ²¡æœ‰çš„</td></tr><tr><td align="left">git diff origin/master..master â€“stat</td><td align="left">åªæ˜¾ç¤ºå·®å¼‚çš„æ–‡ä»¶ï¼Œä¸æ˜¾ç¤ºå…·ä½“å†…å®¹</td></tr><tr><td align="left">git remote add origin git+ssh://git@192.168.53.168/VT.git</td><td align="left">å¢åŠ è¿œç¨‹å®šä¹‰ï¼ˆç”¨äºpush/pull/fetchï¼‰</td></tr><tr><td align="left">git branch</td><td align="left">æ˜¾ç¤ºæœ¬åœ°åˆ†æ”¯</td></tr><tr><td align="left">git branch â€“contains 50089</td><td align="left">æ˜¾ç¤ºåŒ…å«æäº¤50089çš„åˆ†æ”¯</td></tr><tr><td align="left">git branch -a</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰åˆ†æ”¯</td></tr><tr><td align="left">git branch -r</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰åŸåˆ›åˆ†æ”¯</td></tr><tr><td align="left">git branch â€“merged</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰å·²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</td></tr><tr><td align="left">git branch â€“no-merged</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰æœªåˆå¹¶åˆ°å½“å‰åˆ†æ”¯çš„åˆ†æ”¯</td></tr><tr><td align="left">git branch -m master master_copy</td><td align="left">æœ¬åœ°åˆ†æ”¯æ”¹å</td></tr><tr><td align="left">git checkout -b master_copy</td><td align="left">ä»å½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ master _copy å¹¶æ£€å‡º</td></tr><tr><td align="left">git checkout -b master master_copy</td><td align="left">ä¸Šé¢çš„å®Œæ•´ç‰ˆ</td></tr><tr><td align="left">git checkout features/performance</td><td align="left">æ£€å‡ºå·²å­˜åœ¨çš„features/performanceåˆ†æ”¯</td></tr><tr><td align="left">git checkout â€“track hotfixes/BJVEP933</td><td align="left">æ£€å‡ºè¿œç¨‹åˆ†æ”¯hotfixes/BJVEP933å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯</td></tr><tr><td align="left">git checkout v2.0</td><td align="left">æ£€å‡ºç‰ˆæœ¬v2.0</td></tr><tr><td align="left">git checkout -b devel origin/develop</td><td align="left">ä»è¿œç¨‹åˆ†æ”¯developåˆ›å»ºæ–°æœ¬åœ°åˆ†æ”¯develå¹¶æ£€å‡º</td></tr><tr><td align="left">git checkout â€“ README</td><td align="left">æ£€å‡ºheadç‰ˆæœ¬çš„READMEæ–‡ä»¶ï¼ˆå¯ç”¨äºä¿®æ”¹é”™è¯¯å›é€€ï¼‰</td></tr><tr><td align="left">git merge origin/master</td><td align="left">åˆå¹¶è¿œç¨‹masteråˆ†æ”¯è‡³å½“å‰åˆ†æ”¯</td></tr><tr><td align="left">git cherry-pick ff44785404a8e</td><td align="left">åˆå¹¶æäº¤ff44785404a8eçš„ä¿®æ”¹</td></tr><tr><td align="left">git push origin master</td><td align="left">å°†å½“å‰åˆ†æ”¯pushåˆ°è¿œç¨‹masteråˆ†æ”¯</td></tr><tr><td align="left">git push origin :hotfixes/BJVEP933</td><td align="left">åˆ é™¤è¿œç¨‹ä»“åº“çš„hotfixes/BJVEP933åˆ†æ”¯</td></tr><tr><td align="left">git push â€“tags</td><td align="left">æŠŠæ‰€æœ‰tagæ¨é€åˆ°è¿œç¨‹ä»“åº“</td></tr><tr><td align="left">git fetch</td><td align="left">è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼Œå¦éœ€mergeï¼‰</td></tr><tr><td align="left">git fetch â€“prune</td><td align="left">è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯</td></tr><tr><td align="left">git pull origin master</td><td align="left">è·å–è¿œç¨‹åˆ†æ”¯masterå¹¶mergeåˆ°å½“å‰åˆ†æ”¯</td></tr><tr><td align="left">git mv README README2</td><td align="left">é‡å‘½åæ–‡ä»¶READMEä¸ºREADME2</td></tr><tr><td align="left">git reset â€“hard HEAD</td><td align="left">å°†å½“å‰ç‰ˆæœ¬é‡ç½®ä¸ºHEADï¼ˆé€šå¸¸ç”¨äºmergeå¤±è´¥å›é€€ï¼‰</td></tr><tr><td align="left">git rebase</td><td align="left"></td></tr><tr><td align="left">git branch -d hotfixes/BJVEP933</td><td align="left">åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933ï¼ˆæœ¬åˆ†æ”¯ä¿®æ”¹å·²åˆå¹¶åˆ°å…¶ä»–åˆ†æ”¯ï¼‰</td></tr><tr><td align="left">git branch -D hotfixes/BJVEP933</td><td align="left">å¼ºåˆ¶åˆ é™¤åˆ†æ”¯hotfixes/BJVEP933</td></tr><tr><td align="left">git ls-files</td><td align="left">åˆ—å‡ºgit indexåŒ…å«çš„æ–‡ä»¶</td></tr><tr><td align="left">git show-branch</td><td align="left">å›¾ç¤ºå½“å‰åˆ†æ”¯å†å²</td></tr><tr><td align="left">git show-branch â€“all</td><td align="left">å›¾ç¤ºæ‰€æœ‰åˆ†æ”¯å†å²</td></tr><tr><td align="left">git whatchanged</td><td align="left">æ˜¾ç¤ºæäº¤å†å²å¯¹åº”çš„æ–‡ä»¶ä¿®æ”¹</td></tr><tr><td align="left">git revert dfb02e6e4f2f7b573337763e5c0013802e392818</td><td align="left">æ’¤é”€æäº¤dfb02e6e4f2f7b573337763e5c0013802e392818</td></tr><tr><td align="left">git ls-tree HEAD</td><td align="left">å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªgitå¯¹è±¡</td></tr><tr><td align="left">git rev-parse v2.0</td><td align="left">å†…éƒ¨å‘½ä»¤ï¼šæ˜¾ç¤ºæŸä¸ªrefå¯¹äºçš„SHA1 HASH</td></tr><tr><td align="left">git reflog</td><td align="left">æ˜¾ç¤ºæ‰€æœ‰æäº¤ï¼ŒåŒ…æ‹¬å­¤ç«‹èŠ‚ç‚¹</td></tr><tr><td align="left">git show HEAD@{5}</td><td align="left"></td></tr><tr><td align="left">git show master@{yesterday}</td><td align="left">æ˜¾ç¤ºmasteråˆ†æ”¯æ˜¨å¤©çš„çŠ¶æ€</td></tr><tr><td align="left">git log â€“pretty=format:â€™%h %sâ€™ â€“graph</td><td align="left">å›¾ç¤ºæäº¤æ—¥å¿—</td></tr><tr><td align="left">git show HEAD~3</td><td align="left"></td></tr><tr><td align="left">git show -s â€“pretty=raw 2be7fcb476</td><td align="left"></td></tr><tr><td align="left">git stash</td><td align="left">æš‚å­˜å½“å‰ä¿®æ”¹ï¼Œå°†æ‰€æœ‰è‡³ä¸ºHEADçŠ¶æ€</td></tr><tr><td align="left">git stash list</td><td align="left">æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</td></tr><tr><td align="left">git stash show -p stash@{0}</td><td align="left">å‚è€ƒç¬¬ä¸€æ¬¡æš‚å­˜</td></tr><tr><td align="left">git stash apply stash@{0}</td><td align="left">åº”ç”¨ç¬¬ä¸€æ¬¡æš‚å­˜</td></tr><tr><td align="left">git grep â€œdelete fromâ€</td><td align="left">æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬â€œdelete fromâ€</td></tr><tr><td align="left">git grep -e â€˜ defineâ€™ â€“and -e SORT_DIRENT</td><td align="left"></td></tr><tr><td align="left">git gc</td><td align="left"></td></tr><tr><td align="left">git fsck</td><td align="left"></td></tr></tbody></table><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>åˆ›å»ºåˆ†æ”¯</p><figure class="highlight armasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">branch </span>***</span><br></pre></td></tr></tbody></table></figure><p>åˆ‡æ¢åˆ†æ”¯</p><figure class="highlight markdown"><table><tbody><tr><td class="code"><pre><span class="line">git checkout <span class="emphasis">***</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</p><figure class="highlight armasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">branch </span>-r</span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">git branch</span></span><br></pre></td></tr></tbody></table></figure><p>æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯</p><figure class="highlight armasm"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">branch </span>-a</span><br></pre></td></tr></tbody></table></figure><p>åˆ é™¤è¿œç¨‹åˆ†æ”¯</p><figure class="highlight maxima"><table><tbody><tr><td class="code"><pre><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> --<span class="built_in">delete</span>  ***</span><br><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> -d ***</span><br></pre></td></tr></tbody></table></figure><p><a href="https://gist.github.com/guweigang/9848271" target="_blank" rel="noopener">å‚è€ƒ:https://gist.github.com/guweigang/9848271</a><br><br><a href="https://www.jianshu.com/p/d0d3e5d1813a" target="_blank" rel="noopener">å‚è€ƒ:https://www.jianshu.com/p/d0d3e5d1813a</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å¤‡å¿˜å½•</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Shopifyå…¬å…±åº”ç”¨å¼€å‘(2)</title>
    <url>/2021/03/06/Shopify%E5%85%AC%E5%85%B1%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91-2/16015/</url>
    <content><![CDATA[<p>æ¥ç€ä¸Šæ¬¡çš„é¡¹ç›®ï¼Œæˆ‘ä»¬è¿™æ¬¡æŠŠé¡¹ç›®å®‰è£…åˆ° Shopify å•†åº—ã€‚<br><br>é¦–å…ˆ,æˆ‘ä»¬è¦æœ‰ä¸ªå¼€å‘è€…è´¦å·,æ¥è¿™é‡Œ <a href="https://www.shopify.com/partners" target="_blank" rel="noopener">æ³¨å†Œ</a>ã€‚</p><a id="more"></a><h3 id="åˆ›å»ºå…¬å…±åº”ç”¨"><a href="#åˆ›å»ºå…¬å…±åº”ç”¨" class="headerlink" title="åˆ›å»ºå…¬å…±åº”ç”¨"></a>åˆ›å»ºå…¬å…±åº”ç”¨</h3><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå…¬å…±åº”ç”¨,è¿™æ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ° <code>client_id</code> <code>client_secret</code> ,ç„¶åè®¾ç½®åº”ç”¨çš„ url ä»¥åŠ é‡å®šå‘ url</p><p>æœ‰æ¡ä»¶çš„å¯ä»¥è¿›è¡Œç©¿é€ ,ä¹Ÿå¯ä»¥å¡«å†™æœ¬åœ°åœ°å€ (<a href="https://127.0.0.1:3000/" target="_blank" rel="noopener">https://127.0.0.1:3000/</a>)</p><h3 id="OAuth-èº«ä»½éªŒè¯"><a href="#OAuth-èº«ä»½éªŒè¯" class="headerlink" title="OAuth èº«ä»½éªŒè¯"></a>OAuth èº«ä»½éªŒè¯</h3><p>å›åˆ°é¡¹ç›®ä¸­ ,åˆ›å»ºè·¯ç”± å®‰è£…è·¯ç”± (/install) å’Œè®¤è¯è·¯ç”± (/auth/callback)</p><p>/install</p><ol><li>è·å¾—å®‰è£…å•†åº— xxx.myshopify.com</li><li>è¯¥åº”ç”¨éœ€è¦çš„æƒé™</li><li>è¯¥åº”ç”¨çš„ client_id</li><li>é‡å®šå‘ URl</li><li>è®¾ç½®ä¸€ä¸ªéšæœºæ•°</li><li>é‡å®šå‘åˆ°</li></ol><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">`https://<span class="subst">${shop}</span>/admin/oauth/authorize?client_id=<span class="subst">${client_id}</span>&amp;scope=<span class="subst">${scopes}</span>&amp;redirect_uri=<span class="subst">${HOST}</span>/auth/callback&amp;state=<span class="subst">${nonce}</span>`</span></span><br></pre></td></tr></tbody></table></figure><p>/auth/callback</p><ol><li>è·å–å‚æ•° code, hmac, shop, state, timestamp</li><li>åˆ¤æ–­ state ä¸æˆ‘ä»¬è®¾ç½®çš„éšæœºæ•°ä¸€æ ·å¹¶ä¸”éªŒè¯ hmac</li><li>é€šè¿‡ code è·å–è®¿é—®ä»¤ç‰Œ</li></ol><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> res = <span class="keyword">await</span> fetch(<span class="string">`https://<span class="subst">${shop}</span>/admin/oauth/access_token`</span>, {</span><br><span class="line">	method: <span class="string">'POST'</span>,</span><br><span class="line">	body: <span class="built_in">JSON</span>.stringify({</span><br><span class="line">		client_id: CLIENT_ID,</span><br><span class="line">		client_secret: CLIENT_SECRET,</span><br><span class="line">		code: code,</span><br><span class="line">	}),</span><br><span class="line">	headers: { <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span> },</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li>ä¿å­˜ access_token</li><li>è®¾ç½® token (JWTè®¤è¯)</li><li>è¿›å…¥åº”ç”¨(é‡å®šå‘)</li></ol><p><a href="https://shopify.dev/tutorials/authenticate-with-oauth" target="_blank" rel="noopener">è®¤è¯æµç¨‹</a></p><h3 id="ç¼–å†™åº”ç”¨åŠŸèƒ½ä»£ç "><a href="#ç¼–å†™åº”ç”¨åŠŸèƒ½ä»£ç " class="headerlink" title="ç¼–å†™åº”ç”¨åŠŸèƒ½ä»£ç "></a>ç¼–å†™åº”ç”¨åŠŸèƒ½ä»£ç </h3><p>â€¦â€¦.</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Shopify</category>
      </categories>
      <tags>
        <tag>Shopify æ’ä»¶</tag>
        <tag>Shopify å…¬å…±åº”ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>yarn npmå¸¸ç”¨å‘½ä»¤</title>
    <url>/2021/03/05/yarn%20npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/46610/</url>
    <content><![CDATA[<p>yarn npm å¸¸ç”¨å‘½ä»¤ (å¤‡å¿˜&amp;é€ŸæŸ¥)</p><a id="more"></a><table><thead><tr><th></th><th>yarn</th><th>npm</th></tr></thead><tbody><tr><td>å®‰è£…</td><td>npm install â€“global yarn</td><td></td></tr><tr><td>æ£€æŸ¥ç‰ˆæœ¬</td><td>yarn â€“version</td><td>npm -v</td></tr><tr><td>æ–°å»ºé¡¹ç›®</td><td>yarn init</td><td>npm init</td></tr><tr><td>æ·»åŠ ä¾èµ–é¡¹</td><td>yarn add [package]</td><td>npm install [package]</td></tr><tr><td></td><td>yarn add [package]@[version]</td><td>npm install [package]@[version]</td></tr><tr><td></td><td>yarn add [package]@[tag]</td><td>npm install [package]@[tag]</td></tr><tr><td>å°†ä¾èµ–é¡¹æ·»åŠ åˆ°ä¸åŒç±»åˆ«çš„ä¾èµ–é¡¹ä¸­</td><td></td><td></td></tr><tr><td>devDependencies</td><td>yarn add [package] â€“dev</td><td>npm install [package] -D</td></tr><tr><td>peerDependencies</td><td>yarn add [package] â€“peer</td><td></td></tr><tr><td>optionalDependencies</td><td>yarn add [package] â€“optional</td><td>npm install [package] -O</td></tr><tr><td>å‡çº§ä¾èµ–</td><td>yarn upgrade [package]</td><td>npm update [package]</td></tr><tr><td>åˆ é™¤ä¾èµ–</td><td>yarn remove [package]</td><td>npm uninstall [package]</td></tr><tr><td>æœç´¢ä¾èµ–</td><td></td><td>npm search [package]</td></tr><tr><td>å®‰è£…é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–é¡¹</td><td>yarn</td><td>npm i</td></tr></tbody></table><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>å¤‡å¿˜å½•</category>
      </categories>
      <tags>
        <tag>yarn</tag>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title>Shopify å…¬å…±åº”ç”¨å¼€å‘(1)</title>
    <url>/2021/03/04/Shopify%E5%85%AC%E5%85%B1%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91(1)/23291/</url>
    <content><![CDATA[<p>ç›®å‰,æˆ‘æ­£åœ¨å¼€å‘ä¸€æ¬¾ Shopify å…¬å…±åº”ç”¨ ã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯ä¸ªæ€§åŒ–äº§å“,å¹¶å¯ä»¥ä½¿ç”¨æˆ·è¯•è¯•é¢„è§ˆã€‚è¯´å®è¯ç¬¬ä¸€æ¬¡å¼€å‘è¿™ç§é¡¹ç›®,æ„Ÿè§‰å¤´å¤§å•Šå•Šå•Šå•Šå•Šå•Šå•Šâ€¦<br><br>æ–‡æ¡£å…¨è‹±æ–‡,è™½æœ‰ä¸­æ–‡ç‰ˆ,ä½†åˆ å‡çš„å¤ªè¿‡å‰å®³ã€‚äºæ˜¯æˆ‘å»æœç´¢è¿™æ–¹é¢çš„åšå®¢ã€æ–‡ç« ,æ— å¥ˆï¼Œå…³äºè¿™æ–¹é¢çš„æ–‡ç« å¤ªå°‘,åªå¥½ç¡¬ç€å¤´çš®å»çˆ¬æ–‡æ¡£ã€‚<br>ä¸€æŠŠå¿ƒé…¸ä¸€æŠŠæ³ªå•Š ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­</p><a id="more"></a><h3 id="è·Ÿç€æ–‡æ¡£èµ°"><a href="#è·Ÿç€æ–‡æ¡£èµ°" class="headerlink" title="è·Ÿç€æ–‡æ¡£èµ°"></a>è·Ÿç€æ–‡æ¡£èµ°</h3><p><a href="https://shopify.dev/tutorials/build-a-shopify-app-with-node-and-react" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£æ­¥éª¤</a></p><p>æ–‡æ¡£ä»‹ç»çš„æ˜¯ Next.js + React æ­å»ºçš„æœåŠ¡ç«¯æ¸²æŸ“<br>ä¸‹é¢æˆ‘ä½¿ç”¨ Koa + Vue æ­å»ºå‰åç«¯åˆ†ç¦»å¼€å‘</p><h4 id="æ„å»ºæ¡†æ¶"><a href="#æ„å»ºæ¡†æ¶" class="headerlink" title="æ„å»ºæ¡†æ¶"></a>æ„å»ºæ¡†æ¶</h4><p>åˆ›å»º Koa é¡¹ç›®,åˆ›å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ myapp</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> myapp</span><br></pre></td></tr></tbody></table></figure><p>åˆå§‹åŒ– package.json</p><figure class="highlight coffeescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> init -y</span><br></pre></td></tr></tbody></table></figure><p>å®‰è£… koa ä»¥åŠå„é¡¹ä¾èµ–</p><figure class="highlight d"><table><tbody><tr><td class="code"><pre><span class="line">npm i koa koa-views koa-<span class="keyword">static</span> koa-router koa-session  koa-<span class="keyword">body</span> isomorphic-fetch  -S</span><br></pre></td></tr></tbody></table></figure><p>å®‰è£… nodemon ç”¨äºå¼€å‘ä¸­çƒ­æ›´æ–°</p><figure class="highlight coffeescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i nodemon -D</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»º å¯åŠ¨æ–‡ä»¶ app.js</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> koaStatic = <span class="built_in">require</span>(<span class="string">'koa-static'</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> koaViews = <span class="built_in">require</span>(<span class="string">'koa-views'</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line">app.use(session({ <span class="attr">sameSite</span>: <span class="string">'none'</span>, <span class="attr">secure</span>: <span class="literal">true</span> }, app))</span><br><span class="line"></span><br><span class="line">app.use(koaViews(path.join(__dirname, <span class="string">'./src/view'</span>), { <span class="attr">extension</span>: <span class="string">'html'</span> }))</span><br><span class="line">app.listen(port, () =&gt; {</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'&gt; http://127.0.0.1:%d'</span>, port)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»º src æ–‡ä»¶å¤¹ , åœ¨ src ä¸‹é¢åˆ›å»º view æ–‡ä»¶å¤¹<br>åœ¨ view æ–‡ä»¶å¤¹ä¸‹æ–°å»º index.html æ–‡ä»¶</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>App install<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>App install<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p>åˆ›å»º route æ–‡ä»¶å¤¹ æ–°å»º index.js</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>)()</span><br><span class="line">router.get(<span class="string">'/index'</span>, <span class="keyword">async</span> (ctx, next) =&gt; {</span><br><span class="line">	ctx.type = <span class="string">'html'</span></span><br><span class="line">	<span class="keyword">await</span> ctx.render(<span class="string">'index'</span>)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br></pre></td></tr></tbody></table></figure><p>åœ¨ package.json æ·»åŠ </p><figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"> "scripts": {</span><br><span class="line">    "start": "nodemon  app",</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  }</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></tbody></table></figure><p>å¯åŠ¨é¡¹ç›®</p><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> start</span></span><br></pre></td></tr></tbody></table></figure><p>åˆ°æ­¤ æˆ‘ä»¬çš„é¡¹ç›®å·²ç»å¯ä»¥è¿è¡Œäº†, ä½†æ˜¯ æ€ä¹ˆå’ŒShopifyå•†åº—è”ç³»èµ·æ¥å‘¢?ğŸ˜œğŸ˜œğŸ˜œ(æ¥çœ‹ä¸‹ä¸€ç¯‡)<br></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Shopify</category>
      </categories>
      <tags>
        <tag>Shopify æ’ä»¶</tag>
        <tag>Shopify å…¬å…±åº”ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Fieå¯¹è±¡ Imageå¯¹è±¡ base64 canvaså¯¹è±¡ ç›¸äº’è½¬æ¢</title>
    <url>/2021/03/01/Fie%E5%AF%B9%E8%B1%A1Image%E5%AF%B9%E8%B1%A1base64canvas%E5%AF%B9%E8%B1%A1%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2/23442/</url>
    <content><![CDATA[<p>åœ¨å‰ç«¯æ“ä½œè¿‡ç¨‹ä¸­ï¼Œä¸Šä¼ æ–‡ä»¶ï¼Œå›¾ç‰‡æ˜¯ä¸å¯é¿å…çš„ï¼Œä½†æœ‰æ—¶å€™ç”¨æˆ·åœ¨å‰ç«¯é¡µé¢æ“ä½œå®Œå†ä¸Šä¼ ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰æ–‡ä»¶å¯¹è±¡ï¼Œä¸€èˆ¬æˆ‘ä»¬æ‹¿åˆ°çš„æ˜¯ canvas image ç­‰ï¼Œæœ‰æ—¶å€™è¿˜å¯èƒ½æ˜¯ base64 ç¼–ç ï¼Œè¿™æ—¶æˆ‘ä»¬è¯¥æ€ä¹ˆä¸Šä¼ æ–‡ä»¶å‘¢ï¼Ÿ<br><br>æˆ‘ä»¬å…ˆæ¥ç†æ¸…æ¥šä¸€ä¸ªå…³ç³»<br></p><figure class="highlight maxima"><table><tbody><tr><td class="code"><pre><span class="line">url/<span class="built_in">base64</span>  â†’  Image  â†’ canvas â†’ <span class="built_in">base64</span> â†’ File</span><br><span class="line">            â†’  <span class="built_in">base64</span></span><br><span class="line">            â†’  File â†’ <span class="built_in">base64</span></span><br></pre></td></tr></tbody></table></figure><a id="more"></a><h3 id="ç¼–ç å®ç°"><a href="#ç¼–ç å®ç°" class="headerlink" title="ç¼–ç å®ç°"></a>ç¼–ç å®ç°</h3><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">urlToImgAsync</span>(<span class="params">url</span>) </span>{</span><br><span class="line">	<span class="keyword">const</span> img = <span class="keyword">new</span> Image()</span><br><span class="line">	img.src = url</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">		img.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">			resolve(img)</span><br><span class="line">		}</span><br><span class="line">		img.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">			reject(e)</span><br><span class="line">		}</span><br><span class="line">	})</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">imgToCanvas</span>(<span class="params">img</span>) </span>{</span><br><span class="line">	<span class="keyword">if</span> (img <span class="keyword">instanceof</span> Image) {</span><br><span class="line">		<span class="keyword">const</span> canvas = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>)</span><br><span class="line">		<span class="keyword">const</span> cxt = canvas.getContext(<span class="string">'2d'</span>)</span><br><span class="line">		cxt.width = img.width</span><br><span class="line">		cxt.heigth = img.heigth</span><br><span class="line">		cxt.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, cxt.width, cxt.heigth)</span><br><span class="line">		<span class="keyword">return</span> canvas</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">`<span class="subst">${<span class="built_in">Object</span>.prototype.toString.call(img)}</span> not a image`</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">canvasToData</span>(<span class="params">canvas</span>) </span>{</span><br><span class="line">	<span class="keyword">if</span> (canvas <span class="keyword">instanceof</span> HTMLCanvasElement) {</span><br><span class="line">		<span class="keyword">return</span> canvas.toDataURL()</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">`<span class="subst">${<span class="built_in">Object</span>.prototype.toString.call(canvas)}</span> not a canvas`</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dataToFile</span>(<span class="params">data, file = <span class="string">'file'</span></span>) </span>{</span><br><span class="line">	<span class="keyword">let</span> arr = data.split(<span class="string">','</span>)</span><br><span class="line">	<span class="keyword">let</span> mime = arr[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">let</span> suffix = mime.split(<span class="string">'/'</span>)[<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">let</span> bstr = atob(arr[<span class="number">1</span>])</span><br><span class="line">	<span class="keyword">let</span> n = bstr.length</span><br><span class="line">	<span class="keyword">let</span> u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(n)</span><br><span class="line">	<span class="keyword">while</span> (n--) {</span><br><span class="line">		u8arr[n] = bstr.charCodeAt(n)</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> File([u8arr], <span class="string">`<span class="subst">${file}</span>.<span class="subst">${suffix}</span>`</span>, { <span class="attr">type</span>: mime })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fileToUrlAsync</span>(<span class="params">file</span>) </span>{</span><br><span class="line">	<span class="built_in">console</span>.log(file)</span><br><span class="line">	<span class="keyword">if</span> (file <span class="keyword">instanceof</span> File) {</span><br><span class="line">		<span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader()</span><br><span class="line">		reader.readAsDataURL(file)</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">			reader.onloadend = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">				<span class="built_in">console</span>.log(e)</span><br><span class="line">				resolve(e.target.result)</span><br><span class="line">			}</span><br><span class="line">			reader.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">				<span class="built_in">console</span>.log(e)</span><br><span class="line">				reject(e)</span><br><span class="line">			}</span><br><span class="line">		})</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">`<span class="subst">${<span class="built_in">Object</span>.prototype.toString.call(file)}</span> not a file`</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ä»»æ„ç»„åˆç¤ºä¾‹:</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">urlToData(URL).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">	fileToData(dataToFile(res)).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">		<span class="built_in">console</span>.log(res)</span><br><span class="line">	})</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>æ–‡ä»¶è½¬æ¢</tag>
      </tags>
  </entry>
  <entry>
    <title>Koaè·¨åŸŸè§£å†³æ–¹æ¡ˆ</title>
    <url>/2021/02/27/Koa%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/57978/</url>
    <content><![CDATA[<p>åœ¨å¼€å‘æ’ä»¶çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†æ¥å£è¯·æ±‚ä¸åŒ,æ˜¾ç¤ºè·¨åŸŸé”™è¯¯ã€‚<br><br>åœºæ™¯ï¼šæˆ‘åœ¨æœ¬åœ°å¼€å‘å¯åŠ¨äº†ä¸‰ä¸ªé¡¹ç›®,æ’ä»¶éƒ¨åˆ†è¯·æ±‚æœåŠ¡å™¨ç«¯å‡ºç°è·¨åŸŸ,æˆ‘çš„æœåŠ¡å™¨ç«¯æ˜¯ç”¨ Koa æ¡†æ¶å¼€å‘çš„ã€‚</p><a id="more"></a><h3 id="ç®€å•ç²—æš´è§£å†³è·¨åŸŸ"><a href="#ç®€å•ç²—æš´è§£å†³è·¨åŸŸ" class="headerlink" title="ç®€å•ç²—æš´è§£å†³è·¨åŸŸ"></a>ç®€å•ç²—æš´è§£å†³è·¨åŸŸ</h3><p>è‡ªå·±å†™ä¸€ä¸ªä¸­é—´ä»¶æ¥åˆ¤æ–­å“ªäº›è·¯ç”±éœ€è¦è·¨åŸŸ</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>{</span><br><span class="line">		<span class="comment">// Allow cross-domain whitelist</span></span><br><span class="line">		<span class="built_in">console</span>.log(ctx.request.url)</span><br><span class="line">		<span class="keyword">if</span> (<span class="regexp">/^\/plug-in\/|^\/expose-api\//</span>.test(ctx.request.url)) {</span><br><span class="line">			<span class="comment">// Allow requests for all domains</span></span><br><span class="line">			ctx.set(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'*'</span>)</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">await</span> next()</span><br><span class="line">	}</span><br></pre></td></tr></tbody></table></figure><h3 id="å®‰è£…-ä¸­é—´ä»¶"><a href="#å®‰è£…-ä¸­é—´ä»¶" class="headerlink" title="å®‰è£… ä¸­é—´ä»¶"></a>å®‰è£… ä¸­é—´ä»¶</h3><figure class="highlight coffeescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> i koa2-cors -S</span><br></pre></td></tr></tbody></table></figure><p>ä½¿ç”¨</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> cors=<span class="built_in">require</span>(<span class="string">"koa2-cors"</span>)</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">app.use(cors())</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></tbody></table></figure><p><a href="https://github.com/zadzbw/koa2-cors#readme" target="_blank" rel="noopener">koa2-cors Github</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Koa</category>
      </categories>
      <tags>
        <tag>è·¨åŸŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰‹åŠ¨å®ç°reduceå‡½æ•°</title>
    <url>/2021/02/25/%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0reduce%E5%87%BD%E6%95%B0/14755/</url>
    <content><![CDATA[<p>reduce å‡½æ•° å¯ä»¥è‡ªåŠ¨å°†æ•°ç»„æ±‚å’Œ,ä½†å®ƒå†…éƒ¨æ˜¯å¦‚ä½•å®ç°çš„å‘¢? ä»Šå¤©æˆ‘ä»¬æ¥è‡ªå·±å®ç°ä¸€ä¸ª reduce å‡½æ•°</p><a id="more"></a><h3 id="reducer-ä½œç”¨"><a href="#reducer-ä½œç”¨" class="headerlink" title="reducer ä½œç”¨"></a>reducer ä½œç”¨</h3><h4 id="æ•°ç»„æ±‚å’Œ"><a href="#æ•°ç»„æ±‚å’Œ" class="headerlink" title="æ•°ç»„æ±‚å’Œ"></a>æ•°ç»„æ±‚å’Œ</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.reduce(<span class="function">(<span class="params">count, num</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">return</span> count + num</span><br><span class="line">})</span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ•°ç»„æ±‚ä¹˜ç§¯"><a href="#æ•°ç»„æ±‚ä¹˜ç§¯" class="headerlink" title="æ•°ç»„æ±‚ä¹˜ç§¯"></a>æ•°ç»„æ±‚ä¹˜ç§¯</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.reduce(<span class="function">(<span class="params">count, num</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">return</span> count * num</span><br><span class="line">})</span><br><span class="line"><span class="comment">// 24</span></span><br></pre></td></tr></tbody></table></figure><h4 id="æ•°ç»„æ±‚æœ€å¤§ï¼ˆå°ï¼‰å€¼"><a href="#æ•°ç»„æ±‚æœ€å¤§ï¼ˆå°ï¼‰å€¼" class="headerlink" title="æ•°ç»„æ±‚æœ€å¤§ï¼ˆå°ï¼‰å€¼"></a>æ•°ç»„æ±‚æœ€å¤§ï¼ˆå°ï¼‰å€¼</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.reduce(<span class="function">(<span class="params">count, num</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">return</span> count &gt; num ? count : num</span><br><span class="line">})</span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line">arr.reduce(<span class="function">(<span class="params">count, num</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">return</span> count &lt; num ? count : num</span><br><span class="line">})</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure><h4 id="å½“ç„¶-è¿˜æœ‰å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•"><a href="#å½“ç„¶-è¿˜æœ‰å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å½“ç„¶ è¿˜æœ‰å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•"></a>å½“ç„¶ è¿˜æœ‰å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•</h4><h3 id="ç¼–ç å®ç°"><a href="#ç¼–ç å®ç°" class="headerlink" title="ç¼–ç å®ç°"></a>ç¼–ç å®ç°</h3><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.myreduce = <span class="function"><span class="keyword">function</span> (<span class="params">backcall, grandTotal = <span class="number">0</span></span>) </span>{</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">typeof</span> backcall !== <span class="string">'function'</span>) {</span><br><span class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(</span><br><span class="line">			<span class="string">`<span class="subst">${<span class="built_in">Object</span>.prototype.toString.call(backcall)}</span> is not a function`</span></span><br><span class="line">		)</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; <span class="keyword">this</span>.length; index++) {</span><br><span class="line">		grandTotal = backcall(grandTotal, <span class="keyword">this</span>[index], index, <span class="keyword">this</span>)</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> grandTotal</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>reduce å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>NginxæœåŠ¡å™¨å®æ“</title>
    <url>/2021/02/23/Nginx%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E6%93%8D/35107/</url>
    <content><![CDATA[<blockquote><p>Nginxæ˜¯éåŒæ­¥æ¡†æ¶çš„ç¶²é ä¼ºæœå™¨ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œåå‘ä»£ç†ã€è² è¼‰å¹³è¡¡å™¨å’ŒHTTPå¿«å–ã€‚<br>æ€»ä¹‹ Nginx éå¸¸ğŸ®</p></blockquote><a id="more"></a><h3 id="Nginxå®‰è£…"><a href="#Nginxå®‰è£…" class="headerlink" title="Nginxå®‰è£…"></a>Nginxå®‰è£…</h3><p>é¦–å…ˆåœ¨å®˜ç½‘(<a href="http://nginx.org/)[http://nginx.org/]" target="_blank" rel="noopener">http://nginx.org/)[http://nginx.org/]</a> ä¸‹è½½å‹ç¼©åŒ…,è§£å‹åˆ°æ–‡ä»¶å¤¹å³å¯</p><h3 id="å¯åŠ¨Nginx"><a href="#å¯åŠ¨Nginx" class="headerlink" title="å¯åŠ¨Nginx"></a>å¯åŠ¨Nginx</h3><p>åœ¨æ–‡ä»¶å¤¹ä¸‹æ‰“å¼€æ§åˆ¶å° æ‰§è¡Œå‘½ä»¤ (åƒä¸‡ä¸è¦å¯åŠ¨ nginx.exe! åƒä¸‡ä¸è¦å¯åŠ¨ nginx.exe! åƒä¸‡ä¸è¦å¯åŠ¨ nginx.exe!)</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">nginx</span></span><br></pre></td></tr></tbody></table></figure><p>æ‰“å¼€ (<a href="http://localhost)[http://localhost],å¦‚æœå¯ä»¥çœ‹åˆ°">http://localhost)[http://localhost],å¦‚æœå¯ä»¥çœ‹åˆ°</a> Welcome to nginx! è¯´æ˜å®‰è£…æˆåŠŸ</p><h3 id="Nginx-å‘½ä»¤"><a href="#Nginx-å‘½ä»¤" class="headerlink" title="Nginx å‘½ä»¤"></a>Nginx å‘½ä»¤</h3><figure class="highlight jboss-cli"><table><tbody><tr><td class="code"><pre><span class="line">nginx            <span class="comment"># å¯åŠ¨ nginx</span></span><br><span class="line">nginx -s stop    <span class="comment"># å¿«é€Ÿå…³æœº</span></span><br><span class="line">nginx -s <span class="keyword">quit</span>    <span class="comment"># æ­£å¸¸å…³æœº</span></span><br><span class="line">nginx -s <span class="keyword">reload</span>  <span class="comment"># é‡æ–°åŠ è½½é…ç½®</span></span><br><span class="line">nginx -s reopen  <span class="comment"># é‡æ–°æ‰“å¼€æ—¥å¿—æ–‡ä»¶</span></span><br></pre></td></tr></tbody></table></figure><h4 id="Nginx-é…ç½®æ–‡ä»¶"><a href="#Nginx-é…ç½®æ–‡ä»¶" class="headerlink" title="Nginx é…ç½®æ–‡ä»¶"></a>Nginx é…ç½®æ–‡ä»¶</h4><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">#user  nobody;</span><br><span class="line">#</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">#error_log  logs/error.log;</span><br><span class="line">#error_log  logs/error.log  notice;</span><br><span class="line">#error_log  logs/error.log  info;</span><br><span class="line"># è¿›ç¨‹çš„IDå·</span><br><span class="line">#pid        logs/nginx.pid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events {</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http {</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '</span><br><span class="line">    #                  '$status $body_bytes_sent "$http_referer" '</span><br><span class="line">    #                  '"$http_user_agent" "$http_x_forwarded_for"';</span><br><span class="line"></span><br><span class="line">    #access_log  logs/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    #tcp_nopush     on;</span><br><span class="line"></span><br><span class="line">    #keepalive_timeout  0;</span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    #gzip  on;</span><br><span class="line">    # æ¯ä¸ª server ç›¸å½“äºä¸€ä¸ªç«™ç‚¹</span><br><span class="line">    # server {</span><br><span class="line">    # ç›‘å¬ç«¯å£</span><br><span class="line">    #     listen       80;</span><br><span class="line">    # åŸŸå</span><br><span class="line">    #     server_name  localhost;</span><br><span class="line">    # ç¼–ç </span><br><span class="line">    #     #charset koi8-r;</span><br><span class="line">    # æ—¥å¿—å­˜æ”¾è·¯å¾„</span><br><span class="line">    #     #access_log  logs/host.access.log  main;</span><br><span class="line">    # è·¯ç”±</span><br><span class="line">    #     location / {</span><br><span class="line">    #         root   html;</span><br><span class="line">    #         index  index.html index.htm;</span><br><span class="line">    #     }</span><br><span class="line"></span><br><span class="line">    #     #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">    #     # redirect server error pages to the static page /50x.html</span><br><span class="line">    #     #</span><br><span class="line">    #     error_page   500 502 503 504  /50x.html;</span><br><span class="line">    #     location = /50x.html {</span><br><span class="line">    #         root   html;</span><br><span class="line">    #     }</span><br><span class="line"></span><br><span class="line">    #     # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">    #     #</span><br><span class="line">    #     #location ~ \.php$ {</span><br><span class="line">    #     #    proxy_pass   http://127.0.0.1;</span><br><span class="line">    #     #}</span><br><span class="line"></span><br><span class="line">    #     # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">    #     #</span><br><span class="line">    #     #location ~ \.php$ {</span><br><span class="line">    #     #    root           html;</span><br><span class="line">    #     #    fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">    #     #    fastcgi_index  index.php;</span><br><span class="line">    #     #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">    #     #    include        fastcgi_params;</span><br><span class="line">    #     #}</span><br><span class="line"></span><br><span class="line">    #     # deny access to .htaccess files, if Apache's document root</span><br><span class="line">    #     # concurs with nginx's one</span><br><span class="line">    #     #</span><br><span class="line">    #     #location ~ /\.ht {</span><br><span class="line">    #     #    deny  all;</span><br><span class="line">    #     #}</span><br><span class="line">    # }</span><br><span class="line">    #############################################################################</span><br><span class="line">    ################################# ä»£ç† #######################################</span><br><span class="line">    server {</span><br><span class="line">        # ç›‘å¬çš„ç«¯å£</span><br><span class="line">        listen       80;</span><br><span class="line">        # åŸŸå</span><br><span class="line">        server_name  a.localhost;</span><br><span class="line">        # ç¼–ç </span><br><span class="line">        charset utf-8;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            # root   html;</span><br><span class="line">            # index  index.html index.htm;</span><br><span class="line">            # ä»£ç†çš„ URL</span><br><span class="line">            proxy_pass   http://127.0.0.1:3001;</span><br><span class="line">            # å®¢æˆ·ç«¯çœŸå®åŸŸåå’Œç«¯å£å·</span><br><span class="line">            proxy_set_header Host $http_host;</span><br><span class="line">            # å®¢æˆ·ç«¯çœŸå®IP</span><br><span class="line">            proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">            # åŒ…å«ä»£ç†IP çœŸå®IP</span><br><span class="line">            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; </span><br><span class="line">            proxy_set_header X-NginX-Proxy true;</span><br><span class="line">            #ç»™è¯·æ±‚å¤´ä¸­æ·»åŠ å®¢æˆ·ç«¯çš„Cookie</span><br><span class="line">            proxy_set_header Cookie $http_cookie;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html {</span><br><span class="line">            root   html;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        # proxy the PHP scripts to Apache listening on 127.0.0.1:80</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ {</span><br><span class="line">        #    proxy_pass   http://127.0.0.1;</span><br><span class="line">        #}</span><br><span class="line"></span><br><span class="line">        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span><br><span class="line">        #</span><br><span class="line">        #location ~ \.php$ {</span><br><span class="line">        #    root           html;</span><br><span class="line">        #    fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">        #    fastcgi_index  index.php;</span><br><span class="line">        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span><br><span class="line">        #    include        fastcgi_params;</span><br><span class="line">        #}</span><br><span class="line"></span><br><span class="line">        # deny access to .htaccess files, if Apache's document root</span><br><span class="line">        # concurs with nginx's one</span><br><span class="line">        #</span><br><span class="line">        #location ~ /\.ht {</span><br><span class="line">        #    deny  all;</span><br><span class="line">        #}</span><br><span class="line">    }</span><br><span class="line">    server {</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  b.localhost;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            # root   html;</span><br><span class="line">            # index  index.html index.htm;</span><br><span class="line">            proxy_pass   http://127.0.0.1:3002;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html {</span><br><span class="line">            root   html;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    server {</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  c.localhost;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            # root   html;</span><br><span class="line">            # index  index.html index.htm;</span><br><span class="line">            proxy_pass   http://127.0.0.1:3003;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html {</span><br><span class="line">            root   html;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    server {</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  d.localhost;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            # root   html;</span><br><span class="line">            # index  index.html index.htm;</span><br><span class="line">            proxy_pass   http://127.0.0.1:3004;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html {</span><br><span class="line">            root   html;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ##################################è´Ÿè½½å‡è¡¡#######################################</span><br><span class="line">    upstream mysvr {</span><br><span class="line">        server 127.0.0.1:3001 weight=1;</span><br><span class="line">        server 127.0.0.1:3002 weight=2;</span><br><span class="line">        server 127.0.0.1:3003 weight=3;</span><br><span class="line">        server 127.0.0.1:3004 weight=4;</span><br><span class="line">    }</span><br><span class="line">    server {</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  e.localhost;</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / {</span><br><span class="line">            # root   html;</span><br><span class="line">            # index  index.html index.htm;</span><br><span class="line">            proxy_pass   http://mysvr;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html {</span><br><span class="line">            root   html;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ##############################################################################</span><br><span class="line">    # another virtual host using mix of IP-, name-, and port-based configuration</span><br><span class="line">    #</span><br><span class="line">    #server {</span><br><span class="line">    #    listen       8000;</span><br><span class="line">    #    listen       somename:8080;</span><br><span class="line">    #    server_name  somename  alias  another.alias;</span><br><span class="line"></span><br><span class="line">    #    location / {</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    }</span><br><span class="line">    #}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # HTTPS server</span><br><span class="line">    #</span><br><span class="line">    #server {</span><br><span class="line">    #    listen       443 ssl;</span><br><span class="line">    #    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    #    ssl_certificate      cert.pem;</span><br><span class="line">    #    ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">    #    ssl_session_cache    shared:SSL:1m;</span><br><span class="line">    #    ssl_session_timeout  5m;</span><br><span class="line"></span><br><span class="line">    #    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">    #    ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    #    location / {</span><br><span class="line">    #        root   html;</span><br><span class="line">    #        index  index.html index.htm;</span><br><span class="line">    #    }</span><br><span class="line">    #}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>nginx ä»£ç†</tag>
        <tag>nginx å®‰è£…</tag>
        <tag>nginx å‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨å¦‚ä½•è·å–æœ¬æœºipåœ°å€</title>
    <url>/2021/02/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BA%E5%85%AC%E7%BD%91ip%E5%9C%B0%E5%9D%80/30504/</url>
    <content><![CDATA[<p>æµè§ˆå™¨å¦‚ä½•è·å–æœ¬æœºçš„ IP åœ°å€å‘¢,æ–¹æ¡ˆæœ‰å¾ˆå¤šï¼Œç®€å•çš„å¯ä»¥å» (<a href="https://ip.cn/)[https://ip.cn/]" target="_blank" rel="noopener">https://ip.cn/)[https://ip.cn/]</a> è·å–æœ¬æœº IP<br>ä½†æœ‰æ—¶æˆ‘ä»¬è¦åœ¨ä¸šåŠ¡ä¸­æ‹¿åˆ°å®¢æˆ·ç«¯ IP,è¯¥æ€ä¹ˆåŠå‘¢,ä¹Ÿæœ‰ç›¸åº”çš„è§£å†³æ–¹æ¡ˆ,ä¾‹å¦‚ä¸€äº›ä¸‰æ–¹æ¥å£ï¼š<a href="http://pv.sohu.com/cityjson" target="_blank" rel="noopener">æœç‹</a>ã€ <a href="https://www.taobao.com/help/getip.php" target="_blank" rel="noopener">æ·˜å®</a>ã€<a href="https://vv.video.qq.com/checktime?otype=json" target="_blank" rel="noopener">è…¾è®¯</a></p><a id="more"></a><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ WebRTC API æ¥è·å–æœ¬æœº IP<br>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IPQuery</span>(<span class="params">backcall</span>) </span>{</span><br><span class="line">	<span class="comment">// å…¼å®¹æ€§å¤„ç†</span></span><br><span class="line">	<span class="keyword">const</span> MyPeerConnection =</span><br><span class="line">		<span class="built_in">window</span>.RTCPeerConnection ||</span><br><span class="line">		<span class="built_in">window</span>.mozRTCPeerConnection ||</span><br><span class="line">		<span class="built_in">window</span>.webkitRTCPeerConnection</span><br><span class="line">	<span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br><span class="line">	<span class="keyword">const</span> pc = <span class="keyword">new</span> MyPeerConnection({</span><br><span class="line">		<span class="comment">// è¿æ¥ STUNåè®®æœåŠ¡å™¨</span></span><br><span class="line">		iceServers: [{ <span class="attr">url</span>: <span class="string">'stun:stun.l.google.com:19302'</span> }],</span><br><span class="line">	})</span><br><span class="line">	<span class="keyword">let</span> localIPs = { <span class="string">'0.0.0.0'</span>: <span class="number">1</span> }</span><br><span class="line">	<span class="keyword">let</span> noop = <span class="function"><span class="params">()</span> =&gt;</span> {}</span><br><span class="line">	<span class="keyword">let</span> ipRegex = <span class="regexp">/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g</span></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">ipIterate</span>(<span class="params">ip</span>) </span>{</span><br><span class="line">		<span class="keyword">if</span> (!localIPs[ip]) backcall(ip)</span><br><span class="line">		localIPs[ip] = <span class="literal">true</span></span><br><span class="line">	}</span><br><span class="line">	<span class="comment">// åˆ›å»ºæ•°æ®ä¿¡é“</span></span><br><span class="line">	pc.createDataChannel(<span class="string">''</span>)</span><br><span class="line">	pc.createOffer().then(<span class="function"><span class="keyword">function</span> (<span class="params">sdp</span>) </span>{</span><br><span class="line">		sdp.sdp.split(<span class="string">'\n'</span>).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">line</span>) </span>{</span><br><span class="line">			<span class="keyword">if</span> (line.indexOf(<span class="string">'candidate'</span>) &lt; <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">			line.match(ipRegex).forEach(ipIterate)</span><br><span class="line">		})</span><br><span class="line">		pc.setLocalDescription(sdp, noop, noop)</span><br><span class="line">	})</span><br><span class="line">  <span class="comment">// è†å¬å€™é€‰äº‹ä»¶</span></span><br><span class="line">	pc.onicecandidate = <span class="function"><span class="keyword">function</span> (<span class="params">ice</span>) </span>{</span><br><span class="line">		<span class="built_in">console</span>.log(ice)</span><br><span class="line">		<span class="keyword">if</span> (!ice ||!ice.candidate || !ice.candidate.candidate || !ice.candidate.candidate.match(ipRegex)) <span class="keyword">return</span>;</span><br><span class="line">		ice.candidate.candidate.match(ipRegex).forEach(ipIterate)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">IPQuery(<span class="function"><span class="params">ip</span> =&gt;</span> {</span><br><span class="line">	<span class="built_in">console</span>.log(ip)</span><br><span class="line">	<span class="comment">// xxx.xxx.xxx.xxx</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>è·å–IP</tag>
        <tag>æœ¬æœºIP</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿divå‚ç›´æ°´å¹³å±…ä¸­</title>
    <url>/2021/02/19/%E5%A6%82%E4%BD%95%E4%BD%BFdiv%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD/9230/</url>
    <content><![CDATA[<p>ä½¿ div å‚ç›´æ°´å¹³å±…ä¸­</p><a id="more"></a><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">	<span class="selector-class">.parent</span> {</span></span><br><span class="line">		width: 600px;</span><br><span class="line">		height: 600px;</span><br><span class="line">	}</span><br><span class="line"><span class="css">	<span class="selector-class">.child</span> {</span></span><br><span class="line">		width: 200px;</span><br><span class="line">		height: 200px;</span><br><span class="line">		background-color: rebeccapurple;</span><br><span class="line">	}</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-class">.child</span> {</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> {</span><br><span class="line">	<span class="attribute">display</span>: flex;</span><br><span class="line">	<span class="attribute">align-items</span>: center;</span><br><span class="line">	<span class="attribute">justify-content</span>: center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–¹æ¡ˆä¸‰"><a href="#æ–¹æ¡ˆä¸‰" class="headerlink" title="æ–¹æ¡ˆä¸‰"></a>æ–¹æ¡ˆä¸‰</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> {</span><br><span class="line">	<span class="attribute">display</span>: grid;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.child</span> {</span><br><span class="line">	<span class="attribute">align-self</span>: center;</span><br><span class="line">	<span class="attribute">justify-self</span>: center;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="æ–¹æ¡ˆå››"><a href="#æ–¹æ¡ˆå››" class="headerlink" title="æ–¹æ¡ˆå››"></a>æ–¹æ¡ˆå››</h3><figure class="highlight css"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> {</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">::before</span> {</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">	<span class="attribute">vertical-align</span>: middle;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.child</span> {</span><br><span class="line">	<span class="attribute">display</span>: inline-block;</span><br><span class="line">	<span class="attribute">vertical-align</span>: middle;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>csså¸ƒå±€</tag>
      </tags>
  </entry>
  <entry>
    <title>sshè¿œç¨‹ç™»å½•æœåŠ¡å™¨VSCodeè°ƒè¯•ä»£ç </title>
    <url>/2021/01/28/ssh%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E6%9C%8D%E5%8A%A1%E5%99%A8VSCode%E8%B0%83%E8%AF%95%E4%BB%A3%E7%A0%81/14742/</url>
    <content><![CDATA[<p>æˆ‘ä»¬åœ¨å¼€å‘ä¸­æœ‰æ—¶ä¼šé‡åˆ°è¦ä½¿ç”¨å…¬ç½‘è¿›è¡Œå¼€å‘ï¼Œè™½ç„¶å¯ä»¥ä½¿ç”¨ä¸€ä¸‹æ˜ å°„å·¥å…· å¦‚ ngrok ç­‰ï¼Œä½†æ˜¯ï¼Œæˆ‘å°±æƒ³ç”¨æœåŠ¡å™¨ï¼Œé‚£åœ¨æœåŠ¡å™¨ä¸Šå¦‚ä½•è¿›è¡Œå¼€å‘è°ƒè¯•å‘¢ï¼Ÿ</p><a id="more"></a><p>è¿™é‡Œæˆ‘ä½¿ç”¨ Romote SSH æ’ä»¶ã€‚</p><h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><p>æ‰“å¼€VSCode ï¼Œåœ¨æ’ä»¶å•†åº—ä¸­æœç´¢ Romote SSH å³å¯å®‰è£…</p><h3 id="ç”Ÿæˆç§˜é’¥å…¬é’¥"><a href="#ç”Ÿæˆç§˜é’¥å…¬é’¥" class="headerlink" title="ç”Ÿæˆç§˜é’¥å…¬é’¥"></a>ç”Ÿæˆç§˜é’¥å…¬é’¥</h3><p>æ‰“å¼€å‘½ä»¤çª—å£ï¼ˆwin+R cmdï¼‰è¾“å…¥</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">ssh-keygen</span></span><br></pre></td></tr></tbody></table></figure><p>ä¹‹åä¸€è·¯å›è½¦å³å¯ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ–‡ä»¶åä»¥åŠåŠ å¯†å¯†ç </p><p>ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ id_rsa (ç§˜é’¥) id_rsa.pub (å…¬é’¥)ï¼Œæˆ‘ä»¬å°†å…¬é’¥çš„å†…å®¹åŠ åˆ°æœåŠ¡å™¨ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­</p><p>è®¾ç½®æƒé™ å‘½ä»¤å¦‚ä¸‹</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">chmod <span class="number">700</span> ~/.ssh</span><br><span class="line">chmod <span class="number">600</span> ~/.ssh/authorized_keysâ€‹</span><br></pre></td></tr></tbody></table></figure><h3 id="å»ºç«‹è¿æ¥"><a href="#å»ºç«‹è¿æ¥" class="headerlink" title="å»ºç«‹è¿æ¥"></a>å»ºç«‹è¿æ¥</h3><p>ä¹‹åæ‰“å¼€ Romote SSH æ’ä»¶</p><figure class="highlight asciidoc"><table><tbody><tr><td class="code"><pre><span class="line">ssh root@**<span class="strong">*.*</span><span class="strong">*.*</span><span class="strong">*.*</span><span class="strong">*</span></span><br></pre></td></tr></tbody></table></figure><p>è®¾ç½®é…ç½®æ–‡ä»¶</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">Host è‡ªå®šä¹‰</span><br><span class="line">  HostName<span class="built_in"> IP </span></span><br><span class="line"> <span class="built_in"> User </span>root  ç”¨æˆ·å</span><br><span class="line"> <span class="built_in"> Port </span>22 é»˜è®¤ 22</span><br><span class="line">  IdentityFile <span class="string">"C:\Users\***\.ssh\id_rsa"</span> ç§˜é’¥ç»å¯¹è·¯å¾„</span><br></pre></td></tr></tbody></table></figure><p>ä¹‹åå°±å¯ä»¥å¿«ä¹çš„å…å¯†è¿æ¥äº†</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ssh</tag>
        <tag>å…å¯†ç™»å½•</tag>
      </tags>
  </entry>
  <entry>
    <title>koa-bodyå®ç°ä¸Šä¼ æ–‡ä»¶ åˆ†åˆ«ä¿å­˜è‡ªå®šä¹‰æ–‡ä»¶å¤¹</title>
    <url>/2021/01/22/koa-body%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6/4437/</url>
    <content><![CDATA[<p>å¦‚ä½•ä½¿ç”¨ndoeå®ç°ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨koa å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨koa-body ä¸ä»…å¯ä»¥å®ç°ä¸Šä¼ æ–‡ä»¶ï¼Œè¿˜å¯ä»¥è§£æ POST å‚æ•°</p><a id="more"></a><p>é…ç½®å¦‚ä¸‹</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">app.use(</span><br><span class="line">	koaBody({</span><br><span class="line">		multipart: <span class="literal">true</span>, <span class="comment">// æ”¯æŒä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">		patchNode: <span class="literal">true</span>,</span><br><span class="line">		formidable: {</span><br><span class="line">			uploadDir: path.join(__dirname, <span class="string">'uploads/'</span>), <span class="comment">// ä¸Šä¼ æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">			keepExtensiÂ·  ons: <span class="literal">true</span>, <span class="comment">// ä¿æŒæ–‡ä»¶åç¼€</span></span><br><span class="line">			maxFieldsSize: <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span>, <span class="comment">// æ–‡ä»¶ä¸Šä¼ å¤§å°</span></span><br><span class="line">			onFileBegin: <span class="function">(<span class="params">name, file</span>) =&gt;</span> {</span><br><span class="line">				<span class="comment">// æ–‡ä»¶ä¸Šä¼ å‰çš„è®¾ç½®</span></span><br><span class="line">				<span class="keyword">let</span> shop = name.split(<span class="string">'|'</span>)[<span class="number">0</span>]</span><br><span class="line">				<span class="keyword">let</span> type = name.split(<span class="string">'|'</span>)[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">let</span> ext = file.name.split(<span class="string">'.'</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ¤æ–­ä¿å­˜è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">				<span class="keyword">let</span> dir = path.join(__dirname, <span class="string">`uploads/<span class="subst">${shop}</span>`</span>)</span><br><span class="line">				checkDirExist(dir)</span><br><span class="line">				dir = path.join(__dirname, <span class="string">`uploads/<span class="subst">${shop}</span>/<span class="subst">${type}</span>`</span>)</span><br><span class="line">        checkDirExist(dir)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å›¾ç‰‡ä¿å­˜çš„å®é™…è·¯å¾„</span></span><br><span class="line">				file.path = <span class="string">`<span class="subst">${dir}</span>\\<span class="subst">${file.name}</span>`</span></span><br><span class="line">			},</span><br><span class="line">		},</span><br><span class="line">	})</span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkDirExist</span> (<span class="params">dir</span>) </span>{</span><br><span class="line">	<span class="keyword">if</span> (!fs.existsSync(dir)) { fs.mkdirSync(dir) }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>koa</category>
      </categories>
      <tags>
        <tag>koa-body</tag>
        <tag>ä¸Šä¼ æ–‡ä»¶</tag>
        <tag>node</tag>
      </tags>
  </entry>
  <entry>
    <title>koa-body POST æ–¹å¼å‡ºç° 415 unsupported media type</title>
    <url>/2021/01/22/koa-body415/41372/</url>
    <content><![CDATA[<p>ä½¿ç”¨ Koa å†™äº†ä¸ªæ’ä»¶ï¼Œè¦ä¸Šä¼ æ–‡ä»¶æ—¶ ä½¿ç”¨äº† koa-body åœ¨ POST æäº¤å‚æ•°æ—¶ï¼Œæ€»æ˜¯æŠ¥é”™ 415 unsupported media type è‹¦æ€ä¸å¾—å…¶è§£<br>åœ¨ç—›è‹¦äº†åŠå¤©çš„ç»“æœä¸‹ï¼Œæœ€ç»ˆæ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨</p><a id="more"></a><p>ä¸»è¦æ˜¯å¼€å¯äº† <code>encoding: 'gzip'</code> è¿™ä¸ªé…ç½®ï¼Œæ³¨é‡Šåå‘ç°å¯ä»¥è¿è¡Œï¼Œå®Œç¾è§£å†³ã€‚</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">app.use(</span><br><span class="line">	koaBody({</span><br><span class="line">		multipart: <span class="literal">true</span>, <span class="comment">// æ”¯æŒä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">		patchNode: <span class="literal">true</span>,</span><br><span class="line">		<span class="comment">// encoding: 'gzip',</span></span><br><span class="line">	})</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Koa</category>
      </categories>
      <tags>
        <tag>koa-body</tag>
        <tag>node</tag>
        <tag>koa</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptå‡½æ•°å·¥å…·æ•´ç†</title>
    <url>/2021/01/17/JavaScript%E5%87%BD%E6%95%B0%E5%B7%A5%E5%85%B7%E6%95%B4%E7%90%86/43110/</url>
    <content><![CDATA[<p>æ—¥å¸¸å‡½æ•°æ€»ç»“</p><a id="more"></a><p>ä¿®æ”¹å½“å‰å†å²è®°å½•<br>é™é»˜ä¿®æ”¹æµè§ˆå™¨ URL ä¸åˆ·æ–°é¡µé¢</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.history.replaceState({ <span class="attr">path</span>: <span class="string">'url'</span> }, <span class="string">''</span>, url)</span><br></pre></td></tr></tbody></table></figure><p>è§£æ URL å‚æ•°</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">analysisURL</span>(<span class="params">string</span>) </span>{</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">JSON</span>.parse(</span><br><span class="line">		<span class="string">`{ <span class="subst">${string</span></span></span><br><span class="line"><span class="string"><span class="subst">			.slice(string.indexOf(<span class="string">'?'</span>) + <span class="number">1</span>)</span></span></span><br><span class="line"><span class="string"><span class="subst">			.split(<span class="string">'&amp;'</span>)</span></span></span><br><span class="line"><span class="string"><span class="subst">			.map(</span></span></span><br><span class="line"><span class="string"><span class="subst">				o =&gt; <span class="string">`"<span class="subst">${o.slice(<span class="number">0</span>, o.indexOf(<span class="string">'='</span>))}</span>":"<span class="subst">${o.slice(o.indexOf(<span class="string">'='</span>) + <span class="number">1</span>)}</span>"`</span></span></span></span><br><span class="line"><span class="string"><span class="subst">			)</span></span></span><br><span class="line"><span class="string"><span class="subst">			.join(<span class="string">','</span>)}</span>}`</span></span><br><span class="line">	)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>å·¥å…·å‡½æ•°</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨å¦‚ä½•è¯»å–æœ¬åœ°æ–‡ä»¶</title>
    <url>/2021/01/12/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A6%82%E4%BD%95%E8%AF%BB%E5%8F%96%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6/20477/</url>
    <content><![CDATA[<p>åœ¨ä¸šåŠ¡éœ€æ±‚ä¸Šï¼Œä¸å…éœ€è¦ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ‘ä»¬æ¥æ“ä½œä¸€äº›å†…å®¹ï¼Œä½†å¦‚ä½•åœ¨å‰ç«¯ä»£ç ä¸­æ¥å®Œæˆè¿™éƒ¨åˆ†éœ€æ±‚å‘¢ï¼Ÿ</p><a id="more"></a><h3 id="å°è£…å‡½æ•°"><a href="#å°è£…å‡½æ•°" class="headerlink" title="å°è£…å‡½æ•°"></a>å°è£…å‡½æ•°</h3><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// æ–‡ä»¶è½¬ä¸ºå†…å®¹æ–‡æœ¬</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">readAsText</span>(<span class="params">file, callback</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader()</span><br><span class="line">    reader.readAsText(file)</span><br><span class="line">    reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">      callback(<span class="keyword">this</span>.result)</span><br><span class="line">    }</span><br><span class="line">    reader.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">      callback(<span class="literal">null</span>, e)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ–‡ä»¶è½¬ä¸ºåœ°å€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readAsDataURL</span>(<span class="params">file, callback</span>) </span>{</span><br><span class="line">	<span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader()</span><br><span class="line">	reader.readAsDataURL(file)</span><br><span class="line">	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">		callback(<span class="keyword">this</span>.reader)</span><br><span class="line">	}</span><br><span class="line">	reader.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">		callback(<span class="literal">null</span>, e)</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ–‡ä»¶è½¬ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">readAsBinaryString</span>(<span class="params">file, callback</span>) </span>{</span><br><span class="line">	<span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader()</span><br><span class="line">	reader.readAsBinaryString(file)</span><br><span class="line">	reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">		callback(<span class="keyword">this</span>.reader)</span><br><span class="line">	}</span><br><span class="line">	reader.onerror = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">		callback(<span class="literal">null</span>, e)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>å½“ç„¶ æœ‰æ—¶å€™ä¹Ÿéœ€è¦å°†æ–‡ä»¶Base64 ç¼–ç è½¬ä¸ºæ–‡ä»¶ç±»å‹</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base64ToFile</span>(<span class="params">dataURL, fileName = <span class="string">'file'</span></span>) </span>{</span><br><span class="line">	<span class="keyword">let</span> arr = dataURL.split(<span class="string">','</span>)</span><br><span class="line">	<span class="keyword">let</span> mime = arr[<span class="number">0</span>].match(<span class="regexp">/:(.*?);/</span>)[<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">let</span> suffix = mime.split(<span class="string">'/'</span>)[<span class="number">1</span>]</span><br><span class="line">	<span class="keyword">let</span> bstr = atob(arr[<span class="number">1</span>])</span><br><span class="line">	<span class="keyword">let</span> n = bstr.length</span><br><span class="line">	<span class="keyword">let</span> u8arr = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(n)</span><br><span class="line">	<span class="keyword">while</span> (n--) {</span><br><span class="line">		u8arr[n] = bstr.charCodeAt(n)</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> File([u8arr], <span class="string">`<span class="subst">${fileName}</span>.<span class="subst">${suffix}</span>`</span>, { <span class="attr">type</span>: mime })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>jsè¯»å–æœ¬åœ°æ–‡ä»¶</tag>
        <tag>è¯»å–æ–‡ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰å¹³æ•°ç»„ä¸æ ‘çŠ¶ç»“æ„çš„è½¬æ¢</title>
    <url>/2020/09/22/%E6%89%81%E5%B9%B3%E6%95%B0%E7%BB%84%E4%B8%8E%E6%A0%91%E7%8A%B6%E7%BB%93%E6%9E%84%E7%9A%84%E8%BD%AC%E6%8D%A2/52305/</url>
    <content><![CDATA[<p>æˆ‘ä»¬åœ¨ä½¿ç”¨åå°ä¼ è¿‡æ¥çš„æ•°æ®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šå¾—åˆ°æ ‘çŠ¶ç»“æ„çš„æ•°æ®ï¼Œè™½ç„¶æœ‰æ—¶å€™ï¼Œåç«¯ä¼šå¤„ç†æ‰ï¼Œä½†ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‰ç«¯ç»™å®ƒå¤„ç†ä¸€ä¸‹ï¼Œä¸€æ–¹é¢ä¹Ÿé”»ç‚¼ä¸€ä¸‹è„‘å­ï¼Œå¤©å¤©å†™é¡µé¢éƒ½æ²¡æ€è€ƒèƒ½åŠ›äº†ã€‚</p><a id="more"></a><h2 id="æ ‘çŠ¶ç»“æ„è½¬ä¸ºæ‰å¹³æ•°ç»„"><a href="#æ ‘çŠ¶ç»“æ„è½¬ä¸ºæ‰å¹³æ•°ç»„" class="headerlink" title="æ ‘çŠ¶ç»“æ„è½¬ä¸ºæ‰å¹³æ•°ç»„"></a>æ ‘çŠ¶ç»“æ„è½¬ä¸ºæ‰å¹³æ•°ç»„</h2><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> tree = {</span><br><span class="line">	id: <span class="string">'1'</span>,</span><br><span class="line">	pid: <span class="string">'7'</span>,</span><br><span class="line">	name: <span class="string">'aaaaa'</span>,</span><br><span class="line">	children: [</span><br><span class="line">		{</span><br><span class="line">			id: <span class="string">'2'</span>,</span><br><span class="line">			pid: <span class="string">'1'</span>,</span><br><span class="line">			name: <span class="string">'bbbbbbb'</span>,</span><br><span class="line">			children: [</span><br><span class="line">				{</span><br><span class="line">					id: <span class="string">'6'</span>,</span><br><span class="line">					pid: <span class="string">'2'</span>,</span><br><span class="line">					name: <span class="string">'ccccc'</span>,</span><br><span class="line">					children: [{ <span class="attr">id</span>: <span class="string">'9'</span>, <span class="attr">pid</span>: <span class="string">'6'</span>, <span class="attr">name</span>: <span class="string">'dddd'</span> }],</span><br><span class="line">				},</span><br><span class="line">			],</span><br><span class="line">		},</span><br><span class="line">	],</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toArray = <span class="function">(<span class="params">tree, children</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">let</span> arr = []</span><br><span class="line">	<span class="keyword">const</span> a = <span class="function"><span class="params">ls</span> =&gt;</span> {</span><br><span class="line">		<span class="keyword">if</span> (ls <span class="keyword">instanceof</span> <span class="built_in">Array</span>) {</span><br><span class="line">			ls.forEach(<span class="function"><span class="params">o</span> =&gt;</span> {</span><br><span class="line">				<span class="keyword">let</span> c = o[children]</span><br><span class="line">				<span class="keyword">delete</span> o[children]</span><br><span class="line">				arr.push(o)</span><br><span class="line">				a(c)</span><br><span class="line">			})</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">	tree <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? a(tree) : a([tree])</span><br><span class="line">	<span class="keyword">return</span> arr</span><br><span class="line">}</span><br><span class="line">toArray(tree, <span class="string">'children'</span>)</span><br><span class="line"><span class="comment">/* [</span></span><br><span class="line"><span class="comment">  { id: '1', pid: '7', name: 'aaaaa' },</span></span><br><span class="line"><span class="comment">  { id: '2', pid: '1', name: 'bbbbbbb' },</span></span><br><span class="line"><span class="comment">  { id: '6', pid: '2', name: 'ccccc' },</span></span><br><span class="line"><span class="comment">  { id: '9', pid: '6', name: 'dddd' }</span></span><br><span class="line"><span class="comment">] */</span></span><br></pre></td></tr></tbody></table></figure><h2 id="æ‰å¹³æ•°ç»„è½¬ä¸ºæ ‘çŠ¶ç»“æ„"><a href="#æ‰å¹³æ•°ç»„è½¬ä¸ºæ ‘çŠ¶ç»“æ„" class="headerlink" title="æ‰å¹³æ•°ç»„è½¬ä¸ºæ ‘çŠ¶ç»“æ„"></a>æ‰å¹³æ•°ç»„è½¬ä¸ºæ ‘çŠ¶ç»“æ„</h2><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> array =  [</span><br><span class="line">  { <span class="attr">id</span>: <span class="string">'1'</span>, <span class="attr">pid</span>: <span class="string">'7'</span>, <span class="attr">name</span>: <span class="string">'aaaaa'</span> },</span><br><span class="line">  { <span class="attr">id</span>: <span class="string">'2'</span>, <span class="attr">pid</span>: <span class="string">'1'</span>, <span class="attr">name</span>: <span class="string">'bbbbbbb'</span> },</span><br><span class="line">  { <span class="attr">id</span>: <span class="string">'6'</span>, <span class="attr">pid</span>: <span class="string">'2'</span>, <span class="attr">name</span>: <span class="string">'ccccc'</span> },</span><br><span class="line">  { <span class="attr">id</span>: <span class="string">'9'</span>, <span class="attr">pid</span>: <span class="string">'6'</span>, <span class="attr">name</span>: <span class="string">'dddd'</span> }</span><br><span class="line">] </span><br><span class="line"><span class="keyword">const</span> arrayToTree = <span class="function">(<span class="params">arr, id, pid</span>) =&gt;</span> {</span><br><span class="line">	<span class="keyword">if</span> (!id || id == <span class="string">''</span>) {</span><br><span class="line">		<span class="keyword">return</span> []</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">if</span> (arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>) {</span><br><span class="line">		<span class="keyword">let</span> tree = []</span><br><span class="line">		<span class="keyword">let</span> treeMap = {}</span><br><span class="line">		arr.forEach(<span class="function"><span class="params">o</span> =&gt;</span> {</span><br><span class="line">			treeMap[o[id]] = o</span><br><span class="line">		})</span><br><span class="line">		arr.forEach(<span class="function"><span class="params">o</span> =&gt;</span> {</span><br><span class="line">			<span class="keyword">let</span> parent = treeMap[o[pid]]</span><br><span class="line">			<span class="keyword">if</span> (parent &amp;&amp; o[id] != o[pid]) {</span><br><span class="line">				<span class="keyword">if</span> (!parent.children) {</span><br><span class="line">					parent.children = []</span><br><span class="line">				}</span><br><span class="line">				parent.children.push(o)</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				tree.push(o)</span><br><span class="line">			}</span><br><span class="line">		})</span><br><span class="line">		<span class="keyword">return</span> tree</span><br><span class="line">	} <span class="keyword">else</span> {</span><br><span class="line">		<span class="keyword">return</span> [arr]</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line">arrayToTree(array, <span class="string">'id'</span>, <span class="string">'pid'</span>)</span><br><span class="line"><span class="comment">/* {</span></span><br><span class="line"><span class="comment">	id: '1',</span></span><br><span class="line"><span class="comment">	pid: '7',</span></span><br><span class="line"><span class="comment">	name: 'aaaaa',</span></span><br><span class="line"><span class="comment">	children: [</span></span><br><span class="line"><span class="comment">		{</span></span><br><span class="line"><span class="comment">			id: '2',</span></span><br><span class="line"><span class="comment">			pid: '1',</span></span><br><span class="line"><span class="comment">			name: 'bbbbbbb',</span></span><br><span class="line"><span class="comment">			children: [</span></span><br><span class="line"><span class="comment">				{</span></span><br><span class="line"><span class="comment">					id: '6',</span></span><br><span class="line"><span class="comment">					pid: '2',</span></span><br><span class="line"><span class="comment">					name: 'ccccc',</span></span><br><span class="line"><span class="comment">					children: [{ id: '9', pid: '6', name: 'dddd' }],</span></span><br><span class="line"><span class="comment">				},</span></span><br><span class="line"><span class="comment">			],</span></span><br><span class="line"><span class="comment">		},</span></span><br><span class="line"><span class="comment">	],</span></span><br><span class="line"><span class="comment">} */</span></span><br></pre></td></tr></tbody></table></figure><p>åœ¨è¿™é‡Œè®°å½•æ˜¯ä¸ºäº†ä»¥é˜²ç”¨çš„æ—¶å€™æ‰¾ä¸åˆ°ï¼Œè¿™è„‘å­ğŸ˜ï¼Œä¸‡ä¸€å¿˜äº†å‘¢</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>JS</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>axios å–æ¶ˆé‡å¤è¯·æ±‚</title>
    <url>/2020/08/15/axios-%E5%8F%96%E6%B6%88%E9%87%8D%E5%A4%8D%E8%AF%B7%E6%B1%82/13208/</url>
    <content><![CDATA[<p>åœ¨å¼€å‘å•é¡µé¢åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ axios åšè¯·æ±‚çš„æ—¶å€™ï¼Œä¼šé‡åˆ°ä¸€äº›å¾ˆä¸å¥½çš„ä½“éªŒï¼Œå½“æˆ‘ä»¬åˆ‡æ¢è·¯ç”±çš„æ—¶å€™ï¼Œå¦‚æœä¸Šä¸ªé¡µé¢çš„è¯·æ±‚è¿˜æ²¡ç»“æŸï¼Œé‚£ä¹ˆè¿™ä¸ªè¯·æ±‚ä¾æ—§ä¼šæ‰§è¡Œå®Œï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½åœ¨ä¸éœ€è¦çš„æ—¶å€™å°±å–æ¶ˆæ‰ä½ ï¼Ÿ</p><a id="more"></a><p>é‚£ä¹ˆåˆšåˆšå¥½ï¼Œ axios å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚<br>æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°å–æ¶ˆè¯·æ±‚</p><p>æ–¹æ³•ä¸€<br>å®˜æ–¹ç¤ºä¾‹</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> CancelToken = axios.CancelToken</span><br><span class="line"><span class="keyword">const</span> source = CancelToken.source()</span><br><span class="line"></span><br><span class="line">axios</span><br><span class="line">	.get(<span class="string">'/user/12345'</span>, {</span><br><span class="line">		cancelToken: source.token,</span><br><span class="line">	})</span><br><span class="line">	.catch(<span class="function"><span class="keyword">function</span> (<span class="params">thrown</span>) </span>{</span><br><span class="line">		<span class="keyword">if</span> (axios.isCancel(thrown)) {</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Request canceled'</span>, thrown.message)</span><br><span class="line">		} <span class="keyword">else</span> {</span><br><span class="line">			<span class="comment">// å¤„ç†é”™è¯¯</span></span><br><span class="line">		}</span><br><span class="line">	})</span><br><span class="line"></span><br><span class="line">axios.post(</span><br><span class="line">	<span class="string">'/user/12345'</span>,</span><br><span class="line">	{</span><br><span class="line">		name: <span class="string">'new name'</span>,</span><br><span class="line">	},</span><br><span class="line">	{</span><br><span class="line">		cancelToken: source.token,</span><br><span class="line">	}</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ¶ˆè¯·æ±‚ï¼ˆmessage å‚æ•°æ˜¯å¯é€‰çš„ï¼‰</span></span><br><span class="line">source.cancel(<span class="string">'Operation canceled by the user.'</span>)</span><br></pre></td></tr></tbody></table></figure><p>æ–¹æ³•äºŒ<br>å®˜æ–¹ç¤ºä¾‹</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> CancelToken = axios.CancelToken</span><br><span class="line"><span class="keyword">let</span> cancel</span><br><span class="line"></span><br><span class="line">axios.get(<span class="string">'/user/12345'</span>, {</span><br><span class="line">	cancelToken: <span class="keyword">new</span> CancelToken(<span class="function"><span class="keyword">function</span> <span class="title">executor</span>(<span class="params">c</span>) </span>{</span><br><span class="line">		<span class="comment">// executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•°</span></span><br><span class="line">		cancel = c</span><br><span class="line">	}),</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// cancel the request</span></span><br><span class="line">cancel()</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ç¬¬äºŒç§æ–¹å¼</p><p>æˆ‘ä»¬å®šä¹‰ä¸‰ä¸ªæ–¹æ³•:</p><p>addPending</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> pending = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>æ·»åŠ è¯·æ±‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">{Object}</span> <span class="variable">config</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addPending</span>(<span class="params">config</span>) </span>{</span><br><span class="line">	<span class="comment">// å”¯ä¸€æ ‡è¯†</span></span><br><span class="line">	<span class="keyword">let</span> flag = config.flag || <span class="literal">false</span></span><br><span class="line">	<span class="keyword">if</span> (flag) {</span><br><span class="line">		config.cancelToken = <span class="keyword">new</span> axios.CancelToken(<span class="function"><span class="params">cancel</span> =&gt;</span> {</span><br><span class="line">			<span class="keyword">if</span> (!pending.has(flag)) {</span><br><span class="line">				pending.set(flag, cancel)</span><br><span class="line">			} <span class="keyword">else</span> {</span><br><span class="line">				<span class="keyword">const</span> oldCancel = pending.get(flag)</span><br><span class="line">				oldCancel()</span><br><span class="line">				pending.set(flag, cancel)</span><br><span class="line">			}</span><br><span class="line">		})</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> config</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>removePending</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>ç§»é™¤è¯·æ±‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">{Object}</span> <span class="variable">config</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removePending</span>(<span class="params">config</span>) </span>{</span><br><span class="line">	<span class="keyword">let</span> flag = config.flag || <span class="literal">false</span></span><br><span class="line">	<span class="keyword">if</span> (flag &amp;&amp; pending.has(flag)) {</span><br><span class="line">		pending.delete(flag)</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>clearPending ç”¨äºåœ¨è·¯ç”±è·³è½¬æ—¶ï¼Œæ¸…ç©ºæ‰€æœ‰è¯·æ±‚</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>æ¸…ç©ºæ‰€æœ‰è¯·æ±‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearPending</span>(<span class="params"></span>) </span>{</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">const</span> [flag, oldCancel] <span class="keyword">of</span> pending) {</span><br><span class="line">		oldCancel()</span><br><span class="line">	}</span><br><span class="line">	pending.clear()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æˆ‘ä»¬åœ¨è¯·æ±‚ä½“ä¸­ï¼Œæ·»åŠ  <code>flag</code> å±æ€§ï¼Œæ¥è¯†åˆ«æ¯ä¸€ä¸ªå”¯ä¸€çš„ API</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">text</span>(<span class="params">data</span>) </span>{</span><br><span class="line">	<span class="keyword">return</span> axios({</span><br><span class="line">		flag: <span class="string">'text'</span>,</span><br><span class="line">		url: <span class="string">'https://easydoc.xyz/mock/NX1XF1Cx/p/29538143/0I92pgNB'</span>,</span><br><span class="line">		method: <span class="string">'GET'</span>,</span><br><span class="line">		data,</span><br><span class="line">	})</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·æˆ‘ä»¬çš„å‡½æ•°å°±å†™å¥½äº†ï¼Œåªè¦åœ¨è¯·æ±‚æ‹¦æˆªä¸­åªç”¨å°±å¯ä»¥å®ç°äº†</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line">request.interceptors.request.use(</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">config</span>) </span>{</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">		<span class="keyword">return</span> addPending(config)</span><br><span class="line">	},</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>{</span><br><span class="line">		<span class="comment">// è¯·æ±‚é”™è¯¯æ—¶çš„å¤„ç†</span></span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">	}</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// å“åº”æ‹¦æˆª</span></span><br><span class="line">request.interceptors.response.use(</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>{</span><br><span class="line">		<span class="comment">// è¯·æ±‚æˆåŠŸï¼Œç§»é™¤</span></span><br><span class="line">		removePending(response.config)</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">		<span class="keyword">return</span> response.data</span><br><span class="line">	},</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>{</span><br><span class="line">		<span class="comment">// ...</span></span><br><span class="line">		<span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">	}</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>axios</tag>
      </tags>
  </entry>
  <entry>
    <title>vue ä½¿ç”¨ elemen UI å¯¼èˆªèœå•æ‰€é‡åˆ°çš„é—®é¢˜</title>
    <url>/2020/08/14/vue-%E4%BD%BF%E7%94%A8-elemen-UI-%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/23181/</url>
    <content><![CDATA[<p>æˆ‘ä»¬å¸¸å¸¸åœ¨å¼€å‘vue é¡¹ç›®ä¸­ä½¿ç”¨ elemen UI å¼€ç»“åˆå¼€å‘ï¼Œä½†åœ¨å•é¡µé¢åº”ç”¨ä¸­ï¼Œéšç€ç”¨æˆ·çš„æ“ä½œè€Œæ”¹å˜çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ VueX æ¥åšçŠ¶æ€ç®¡ç†ï¼Œä½†æ˜¯ï¼Œå¦‚æœç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œä¹‹å‰çš„çŠ¶æ€éƒ½ä¼šæ¶ˆå¤±ï¼Œé‚£ä¹ˆï¼Œå¯¼èˆªè¯¥å¦‚ä½•å‡†ç¡®ç»™å½“å‰é¡µé¢çš„å¯¼èˆªæŒ‰é’®æ·»åŠ é€‰ä¸­çš„æ ·å¼å‘¢ï¼Ÿ</p><a id="more"></a><p>ç›´æ¥ä¸Šä»£ç </p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-menu router mode="horizontal" @select="selectMenu"&gt;</span><br><span class="line">    &lt;template v-for="(item,index) in navlist"&gt;</span><br><span class="line">      &lt;el-menu-item :index="item.path" :key="index" disabled&gt;{{item.name}}&lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/el-menu&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure><p>è¿™æ ·å†™çš„é—®é¢˜æ˜¯ï¼Œå½“ç”¨æˆ·åˆ·æ–°é¡µé¢æ—¶ï¼Œå½“å‰é¡µé¢å¯¹åº”çš„å¯¼èˆªå¹¶ä¸ä¼šè¢«æ·»åŠ é€‰ä¸­æ ·å¼ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-menu router :default-active="$route.path" mode="horizontal" @select="selectMenu"&gt;</span><br><span class="line">    &lt;template v-for="(item,index) in navlist"&gt;</span><br><span class="line">      &lt;el-menu-item :index="item.path" :key="index" disabled&gt;{{item.name}}&lt;/el-menu-item&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/el-menu&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure><p>å½“æˆ‘ä»¬è¿™æ ·å†™ï¼Œå°†å½“å‰è·¯å¾„æ—¶æ—¶ç»‘å®šåˆ°å¯¼èˆªä¸Šï¼Œå°±å¯ä»¥å®Œç¾å®ç°äº†.</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>vue</tag>
        <tag>elemen-ui</tag>
        <tag>å¯¼èˆª</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•™ä½ å¦‚ä½•åœ¨æœ¬åœ°å¼€å‘ Shopify ä¸»é¢˜</title>
    <url>/2020/07/05/%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E5%9C%A8%E6%9C%AC%E5%9C%B0%E5%BC%80%E5%8F%91-Shopify-%E4%B8%BB%E9%A2%98/37643/</url>
    <content><![CDATA[<p>æˆ‘ä»¬åœ¨å¼€å‘ Shopify ä¸»é¢˜çš„æ—¶å€™ï¼Œå¸¸å¸¸æ˜¯åœ¨å®˜æ–¹çš„çº¿ä¸Šç¼–è¾‘å™¨ä¸Šè¿›è¡Œä¿®æ”¹ä»£ç çš„ï¼Œè¿™æ ·çš„ç¼–è¾‘æ•ˆæœä¸æ˜¯å¾ˆå¥½ï¼ˆä¸èƒ½æ ¼å¼åŒ–ã€ä¸èƒ½æ™ºèƒ½æç¤ºï¼‰ï¼Œè€Œä¸”å¯¹äºæˆ‘ä»¬æƒ³ä½¿ç”¨è‡ªå·±å–œæ¬¢çš„ç¼–è¾‘å™¨æ¥ç¼–è¾‘çš„äººæ¥è¯´ï¼Œå¾ˆæ˜¯ä¸èˆ’æœï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥å®ç°åœ¨æœ¬åœ°ç¼–è¾‘å™¨ä¸Šè¿›è¡Œå¼€å‘å‘¢ï¼Ÿæ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬åœ¨æœ¬åœ°é…ç½®ä¸€ä¸‹ç¯å¢ƒã€‚</p><a id="more"></a><h3 id="ä¸‹è½½-Shopify-ä¸»é¢˜å¥—ä»¶"><a href="#ä¸‹è½½-Shopify-ä¸»é¢˜å¥—ä»¶" class="headerlink" title="ä¸‹è½½ Shopify ä¸»é¢˜å¥—ä»¶"></a>ä¸‹è½½ Shopify ä¸»é¢˜å¥—ä»¶</h3><p><a href="https://shopify-themekit.s3.amazonaws.com/v1.0.2/windows-amd64/theme.exe" target="_blank" rel="noopener">win10-64</a><br><br>å¦‚æœä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½æˆ‘ç™¾åº¦ç½‘ç›˜é‡Œçš„<br><a href="https://pan.baidu.com/s/1YMQ2adpGaBpiwDCYCvoPSA" target="_blank" rel="noopener">https://pan.baidu.com/s/1YMQ2adpGaBpiwDCYCvoPSA</a>æå–ç ï¼špt8g</p><p>ä¸‹è½½å®Œæˆåï¼Œåˆ›å»ºä¸€ä¸ª Theme Kit æ–‡ä»¶å¤¹ï¼Œå°†ç¨‹åºå¤åˆ¶åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åå°†è·¯å¾„ï¼ˆD:\DevelopmentTool\Theme Kitï¼‰æ·»åŠ åˆ° ç¯å¢ƒå˜é‡ï¼ˆPathï¼‰ä¸­</p><p>å®Œæˆå æ‰“å¼€ cmd.exe å¹¶è¾“å…¥ theme</p><h3 id="åˆ›å»ºè‡ªå®šä¹‰-åº”ç”¨ç¨‹åº"><a href="#åˆ›å»ºè‡ªå®šä¹‰-åº”ç”¨ç¨‹åº" class="headerlink" title="åˆ›å»ºè‡ªå®šä¹‰ åº”ç”¨ç¨‹åº"></a>åˆ›å»ºè‡ªå®šä¹‰ åº”ç”¨ç¨‹åº</h3><p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰åº”ç”¨ç¨‹åº è®¾ç½® Theme templates and theme assets ä¸º Read and write<br>å¾—åˆ° å¯†ç å ï¼Œå¤åˆ¶ä¸‹æ¥ï¼Œä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œ</p><h3 id="ä¸‹è½½ä¸»é¢˜æ¨¡æ¿"><a href="#ä¸‹è½½ä¸»é¢˜æ¨¡æ¿" class="headerlink" title="ä¸‹è½½ä¸»é¢˜æ¨¡æ¿"></a>ä¸‹è½½ä¸»é¢˜æ¨¡æ¿</h3><ol><li>æŸ¥çœ‹æ¨¡æ¿ID</li></ol><figure class="highlight ada"><table><tbody><tr><td class="code"><pre><span class="line">theme <span class="keyword">new</span> <span class="comment">--password=[your-password] --store=[your-store.myshopify.com] --name=[theme name]</span></span><br></pre></td></tr></tbody></table></figure><p>è®°ä½ä¸»é¢˜ ID</p><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™å°†æ˜¯å­˜æ”¾ä½ ä¸»é¢˜æ–‡ä»¶çš„é¡¹ç›®æ¨¡æ¿ï¼Œç„¶åæ‰§è¡Œ</p><figure class="highlight inform7"><table><tbody><tr><td class="code"><pre><span class="line">theme get -p=<span class="comment">[your-password]</span> -s=<span class="comment">[you-store.myshopify.com]</span> -t=<span class="comment">[your-theme-id]</span></span><br></pre></td></tr></tbody></table></figure><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>ä¸‹è½½é…ç½®æ–‡ä»¶ä¸­çš„ä¸»é¢˜</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">theme download</span></span><br></pre></td></tr></tbody></table></figure><p>æ‰“å¼€å°†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸»é¢˜çš„é¢„è§ˆé¡µé¢ï¼Œå¹¶æ‰“å°å‡ºURLä¾›æ‚¨å‚è€ƒ</p><figure class="highlight arduino"><table><tbody><tr><td class="code"><pre><span class="line">theme <span class="built_in">open</span></span><br></pre></td></tr></tbody></table></figure><p>Watchå°†å¯åŠ¨ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹å°†ç›‘è§†æ‚¨çš„ç›®å½•ä¸­çš„æ›´æ”¹å¹¶å°†å…¶ä¸Šè½½åˆ°Shopifyã€‚ä»»ä½•æ›´æ”¹å°†è¢«è®°å½•åˆ°ç»ˆç«¯ï¼Œå¹¶ä¸”ä¸Šä¼ çŠ¶æ€ä¹Ÿå°†è¢«è®°å½•ã€‚åªéœ€è¾“å…¥ctrl + Cå³å¯åœæ­¢è¯¥ç¨‹åº</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">theme watch</span></span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Shopify</category>
      </categories>
      <tags>
        <tag>å¼€å‘æŠ€å·§</tag>
        <tag>Shopifyæœ¬åœ°å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>Liquid</title>
    <url>/2020/06/16/Liquid/22647/</url>
    <content><![CDATA[<p>å¼€å‘ Shopify å•†åº—ï¼Œé¦–å…ˆè¦ç†Ÿæ‚‰ Liquid çš„è¯­æ³•ã€‚Liquid ç”± Shopify åˆ›é€ å¹¶ç”¨ Ruby å®ç°ã€‚</p><a id="more"></a><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h3><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>==</td><td>ç›¸ç­‰</td></tr><tr><td>!=</td><td>ä¸ç›¸ç­‰</td></tr><tr><td>&gt;</td><td>å¤§äº</td></tr><tr><td>&lt;</td><td>å°äº</td></tr><tr><td>&gt;=</td><td>å¤§äºæˆ–ç­‰äº</td></tr><tr><td>&lt;=</td><td>å°äºæˆ–ç­‰äº</td></tr><tr><td>or</td><td>é€»è¾‘æˆ–</td></tr><tr><td>and</td><td>é€»è¾‘ä¸</td></tr></tbody></table><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><ul><li>Stting</li><li>Number</li><li>Bootlean<ul><li>é™¤äº† nil false å…¶ä½™å…¨éƒ½ä¸º çœŸ</li></ul></li><li>Nil</li><li>Array</li></ul><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><figure class="highlight twig"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">comment</span> %}</span></span><br><span class="line"></span><br><span class="line"><span class="template-tag">{% <span class="name">endcomment</span> %}</span></span><br></pre></td></tr></tbody></table></figure><h3 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name"><span class="name">if</span></span>  true %}</span></span><br><span class="line"></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">endif</span></span> %}</span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœä¸ºçœŸå°±æ‰§è¡Œ</p><h4 id="unless"><a href="#unless" class="headerlink" title="unless"></a>unless</h4><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">unless</span> %}</span></span><br><span class="line"></span><br><span class="line"><span class="template-tag">{% <span class="name">endunless</span> %}</span></span><br></pre></td></tr></tbody></table></figure><p>è‹¥ä¸ºå‡å°±æ‰§è¡Œ</p><h4 id="elsif-else"><a href="#elsif-else" class="headerlink" title="elsif / else"></a>elsif / else</h4><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">elsif</span> %}</span></span><br><span class="line"></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">else</span></span> %}</span></span><br></pre></td></tr></tbody></table></figure><p>å¦åˆ™ å¦‚æœ</p><p>å¦åˆ™</p><h4 id="case-when"><a href="#case-when" class="headerlink" title="case/when"></a>case/when</h4><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">case</span> å˜é‡ %}</span></span><br><span class="line"><span class="xml">...</span></span><br><span class="line"><span class="template-tag">{% <span class="name">when</span> '' %}</span></span><br><span class="line"><span class="xml">...</span></span><br><span class="line"><span class="template-tag">{% <span class="name">when</span> '' %}</span></span><br><span class="line"><span class="xml">...</span></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">else</span></span> %}</span></span><br><span class="line"><span class="xml">...</span></span><br><span class="line"><span class="template-tag">{% <span class="name">endcase</span> %}</span></span><br></pre></td></tr></tbody></table></figure><p>ç±»ä¼¼äº switch</p><h3 id="è¿­ä»£-å¾ªç¯"><a href="#è¿­ä»£-å¾ªç¯" class="headerlink" title="è¿­ä»£/å¾ªç¯"></a>è¿­ä»£/å¾ªç¯</h3><ul><li><p>break</p><ul><li>å¾ªç¯è¿‡ç¨‹ä¸­è‹¥å¹²é‡åˆ° break æ ‡è®°ï¼ˆtagï¼‰å³åœæ­¢å¾ªç¯</li></ul></li><li><p>continue</p><ul><li>å¾ªç¯è¿‡ç¨‹ä¸­è‹¥é‡åˆ° continue æ ‡è®°ï¼ˆtagï¼‰åˆ™è·³å‡ºå½“å‰å¾ªç¯</li></ul></li><li><p>limit limit:5</p><ul><li>é™å®šå¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°</li></ul></li><li><p>offset offsetv:5</p><ul><li>ä»æŒ‡å®šç´¢å¼•å·å¼€å§‹æ‰§è¡Œå¾ªç¯ã€‚</li></ul></li><li><p>range (1..5)</p><ul><li>å®šä¹‰å¾ªç¯æ‰§è¡Œçš„èŒƒå›´ã€‚å¯åˆ©ç”¨æ•°å­—æˆ–å˜é‡æ¥å®šä¹‰æ­¤æ‰§è¡ŒèŒƒå›´<figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name"><span class="name">for</span></span> i <span class="keyword">in</span> (3..5) %}</span></span><br><span class="line"><span class="xml">  </span><span class="template-variable">{{ i }}</span></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">endfor</span></span> %}</span></span><br><span class="line"><span class="template-tag">{% <span class="name">assign</span> num = 4 %}</span></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">for</span></span> i <span class="keyword">in</span> (1..num) %}</span></span><br><span class="line"><span class="xml">  </span><span class="template-variable">{{ i }}</span></span><br><span class="line"><span class="template-tag">{% <span class="name"><span class="name">endfor</span></span> %}</span></span><br></pre></td></tr></tbody></table></figure></li></ul></li><li><p>reversed</p><ul><li>åè½¬å¾ªç¯çš„æ‰§è¡Œé¡ºåºã€‚æ³¨æ„å’Œ reverse è¿‡æ»¤å™¨ï¼ˆfilterï¼‰çš„æ‹¼å†™æ˜¯ä¸åŒçš„<figure class="highlight gcode"><table><tbody><tr><td class="code"><pre><span class="line">{<span class="meta">%</span> cycle <span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span> <span class="meta">%</span>}</span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><p>å°† cycle ä»£ç å—æ”¾å…¥ for å¾ªç¯ä¸­ æ¯æ¬¡æ‰§è¡Œéƒ½ä¼šè¾“å‡ºå‚æ•°ä¸­çš„ä¸‹ä¸€ä¸ª</p><ul><li>tablerow<ul><li>ç”Ÿæˆä¸€ä¸ª HTML è¡¨æ ¼ã€‚å¿…é¡»ç”¨å’Œ<table></table>è¿™ä¸¤ä¸ª HTML æ ‡ç­¾å°†å…¶åŒ…è£¹èµ·æ¥</li><li>cols å®šä¹‰è¡¨æ ¼åº”å½“æœ‰å¤šå°‘åˆ—</li><li>limit åœ¨æ‰§è¡Œåˆ°æŒ‡å®šçš„è„šæ ‡ï¼ˆindexï¼‰ä¹‹åé€€å‡º tablerow</li><li>offset åœ¨æŒ‡å®šçš„è„šæ ‡ï¼ˆindexï¼‰ä¹‹åå¼€å§‹æ‰§è¡Œ tablerow</li><li>range å®šä¹‰å¾ªç¯æ‰§è¡Œçš„èŒƒå›´ã€‚å¯åˆ©ç”¨æ•°å­—å’Œå˜é‡æ¥å®šä¹‰æ‰§è¡ŒèŒƒå›´<figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="template-tag">{% <span class="name">tablerow</span> product <span class="keyword">in</span> collection.products %}</span></span><br><span class="line"><span class="xml">  </span><span class="template-variable">{{ product.title }}</span></span><br><span class="line"><span class="template-tag">{% <span class="name">endtablerow</span> %}</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure></li></ul></li></ul><h3 id="å£°æ˜å˜é‡"><a href="#å£°æ˜å˜é‡" class="headerlink" title="å£°æ˜å˜é‡"></a>å£°æ˜å˜é‡</h3><h4 id="assign-å£°æ˜"><a href="#assign-å£°æ˜" class="headerlink" title="assign å£°æ˜"></a>assign å£°æ˜</h4><figure class="highlight autoit"><table><tbody><tr><td class="code"><pre><span class="line">{% <span class="built_in">assign</span> å˜é‡=<span class="string">''</span> %}</span><br></pre></td></tr></tbody></table></figure><h4 id="capture-å£°æ˜"><a href="#capture-å£°æ˜" class="headerlink" title="capture å£°æ˜"></a>capture å£°æ˜</h4><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">capture</span> å˜é‡ %}</span></span><br><span class="line"><span class="xml">I am being captured.</span></span><br><span class="line"><span class="template-tag">{% <span class="name">endcapture</span> %}</span></span><br></pre></td></tr></tbody></table></figure><h4 id="increment-å£°æ˜æ•°å€¼å˜é‡-0"><a href="#increment-å£°æ˜æ•°å€¼å˜é‡-0" class="headerlink" title="increment å£°æ˜æ•°å€¼å˜é‡ 0"></a>increment å£°æ˜æ•°å€¼å˜é‡ 0</h4><p>æ¯æ¬¡è°ƒç”¨æ­¤å˜é‡ å€¼ åŠ 1<br>åˆå§‹å€¼ä¸º 0</p><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">increment</span> my_counter %}</span></span><br><span class="line"><span class="template-tag">{% <span class="name">increment</span> my_counter %}</span></span><br><span class="line"><span class="template-tag">{% <span class="name">increment</span> my_counter %}</span></span><br></pre></td></tr></tbody></table></figure><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></tbody></table></figure><h4 id="decrement-å£°æ˜æ•°å€¼å˜é‡-1"><a href="#decrement-å£°æ˜æ•°å€¼å˜é‡-1" class="headerlink" title="decrement å£°æ˜æ•°å€¼å˜é‡ -1"></a>decrement å£°æ˜æ•°å€¼å˜é‡ -1</h4><p>æ¯æ¬¡è°ƒç”¨æ­¤å˜é‡ å€¼ å‡1<br>åˆå§‹å€¼ä¸º -1</p><h3 id="åŸå§‹å†…å®¹"><a href="#åŸå§‹å†…å®¹" class="headerlink" title="åŸå§‹å†…å®¹"></a>åŸå§‹å†…å®¹</h3><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">{%<span class="built_in"> raw </span>%}</span><br><span class="line">  <span class="keyword">In</span> Handlebars, {{ this }} will be HTML-escaped, but</span><br><span class="line">  {{{ that }}} will <span class="keyword">not</span>.</span><br><span class="line">{% endraw %}</span><br></pre></td></tr></tbody></table></figure><p>å¯¹ä»£ç å—ä¸­çš„å†…å®¹ ä¸åšä»»ä½•å¤„ç†</p><h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><h3 id="abs-ç»å¯¹å€¼"><a href="#abs-ç»å¯¹å€¼" class="headerlink" title="abs ç»å¯¹å€¼"></a>abs ç»å¯¹å€¼</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">-8</span> | abs}}</span><br><span class="line">{{<span class="number">8</span> | abs}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight basic"><table><tbody><tr><td class="code"><pre><span class="line"><span class="symbol">8 </span></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></tbody></table></figure><h3 id="append-è¿½åŠ å­—ç¬¦ä¸²"><a href="#append-è¿½åŠ å­—ç¬¦ä¸²" class="headerlink" title="append è¿½åŠ å­—ç¬¦ä¸²"></a>append è¿½åŠ å­—ç¬¦ä¸²</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"hello"</span> | append: ' word'}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">hello <span class="built_in">word</span></span><br></pre></td></tr></tbody></table></figure><h3 id="prepend-åœ¨å­—ç¬¦å‰è¿½åŠ "><a href="#prepend-åœ¨å­—ç¬¦å‰è¿½åŠ " class="headerlink" title="prepend åœ¨å­—ç¬¦å‰è¿½åŠ "></a>prepend åœ¨å­—ç¬¦å‰è¿½åŠ </h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="string">"word"</span> | prepend: 'hello '}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">hello <span class="built_in">word</span></span><br></pre></td></tr></tbody></table></figure><h3 id="at-least-é™åˆ¶æ•°å­—æœ€å°å€¼"><a href="#at-least-é™åˆ¶æ•°å­—æœ€å°å€¼" class="headerlink" title="at_least é™åˆ¶æ•°å­—æœ€å°å€¼"></a>at_least é™åˆ¶æ•°å­—æœ€å°å€¼</h3><p>è¾“å…¥</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="number">5</span> | at_least:<span class="number">6</span>}}</span><br><span class="line">{{ <span class="number">7</span> | at_least:<span class="number">6</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></tbody></table></figure><h3 id="at-most-é™åˆ¶æ•°å­—æœ€å¤§å€¼"><a href="#at-most-é™åˆ¶æ•°å­—æœ€å¤§å€¼" class="headerlink" title="at_most é™åˆ¶æ•°å­—æœ€å¤§å€¼"></a>at_most é™åˆ¶æ•°å­—æœ€å¤§å€¼</h3><p>è¾“å…¥</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="number">5</span> | at_most:<span class="number">6</span>}}</span><br><span class="line">{{ <span class="number">7</span> | at_most:<span class="number">6</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></tbody></table></figure><h3 id="capitalize-é¦–å­—æ¯å¤§å†™"><a href="#capitalize-é¦–å­—æ¯å¤§å†™" class="headerlink" title="capitalize é¦–å­—æ¯å¤§å†™"></a>capitalize é¦–å­—æ¯å¤§å†™</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"text"</span> | capitalize}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight arcade"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">Text</span></span><br></pre></td></tr></tbody></table></figure><h3 id="ceil-å°†æµ®ç‚¹æ•°å‘ä¸Šå–æ•´"><a href="#ceil-å°†æµ®ç‚¹æ•°å‘ä¸Šå–æ•´" class="headerlink" title="ceil å°†æµ®ç‚¹æ•°å‘ä¸Šå–æ•´"></a>ceil å°†æµ®ç‚¹æ•°å‘ä¸Šå–æ•´</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">3.1415926</span> | ceil}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></tbody></table></figure><h3 id="floor-æµ®ç‚¹æ•°è¯¦å‘ä¸‹å–æ•´"><a href="#floor-æµ®ç‚¹æ•°è¯¦å‘ä¸‹å–æ•´" class="headerlink" title="floor æµ®ç‚¹æ•°è¯¦å‘ä¸‹å–æ•´"></a>floor æµ®ç‚¹æ•°è¯¦å‘ä¸‹å–æ•´</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">9.9</span> | floor}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">9</span></span><br></pre></td></tr></tbody></table></figure><h3 id="round-å››èˆäº”å…¥-ä¿ç•™-ä½å°æ•°"><a href="#round-å››èˆäº”å…¥-ä¿ç•™-ä½å°æ•°" class="headerlink" title="round å››èˆäº”å…¥ ä¿ç•™ * ä½å°æ•°"></a>round å››èˆäº”å…¥ ä¿ç•™ * ä½å°æ•°</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">1.4</span> | round}}</span><br><span class="line">{{<span class="number">1.5</span> | round}}</span><br><span class="line">{{<span class="number">3.1415926</span> | round: <span class="number">3</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3.142</span></span><br></pre></td></tr></tbody></table></figure><h3 id="compact-åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰-nil-å€¼"><a href="#compact-åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰-nil-å€¼" class="headerlink" title="compact åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰ nil å€¼"></a>compact åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰ nil å€¼</h3><p>è¾“å…¥</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="uniq-åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰-å†—ä½™é¡¹"><a href="#uniq-åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰-å†—ä½™é¡¹" class="headerlink" title="uniq åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰ å†—ä½™é¡¹"></a>uniq åˆ é™¤æ•°ç»„ä¸­æ‰€æœ‰ å†—ä½™é¡¹</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"1,2,3,4,5,6,8,5,4,2,3,1,7,9,5"</span> | split: ',' | uniq}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">9</span></span><br></pre></td></tr></tbody></table></figure><h3 id="concat-åˆå¹¶æ•°ç»„"><a href="#concat-åˆå¹¶æ•°ç»„" class="headerlink" title="concat åˆå¹¶æ•°ç»„"></a>concat åˆå¹¶æ•°ç»„</h3><p>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{%- assign array1 = <span class="string">"a,b,c"</span>| split: ',' -%}</span><br><span class="line">{%- assign array2 = <span class="string">"d,e,f"</span>| split: ',' -%}</span><br><span class="line">{%- assign<span class="built_in"> array </span>= array1 | concat: array2 -%}</span><br><span class="line">{%- for item in<span class="built_in"> array </span>|compact-%}</span><br><span class="line">  &lt;div&gt;{{item}}&lt;/div&gt;</span><br><span class="line">{%- endfor -%}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">e</span><br><span class="line">f</span><br></pre></td></tr></tbody></table></figure><h3 id="date-è½¬æ¢æ—¶é—´æ ¼å¼"><a href="#date-è½¬æ¢æ—¶é—´æ ¼å¼" class="headerlink" title="date è½¬æ¢æ—¶é—´æ ¼å¼"></a>date è½¬æ¢æ—¶é—´æ ¼å¼</h3><ul><li>%Y å¹´</li><li>%y å¹´ï¼ˆåä¸¤ä½ï¼‰</li><li>%m æœˆ</li><li>%b æœˆï¼ˆè‹±æ–‡å•è¯ï¼‰</li><li>%h æœˆï¼ˆè‹±æ–‡å•è¯ï¼‰</li><li>%d æ—¥</li><li>%H æ—¶</li><li>%M åˆ†</li><li>%S ç§’</li><li>%s æ—¶é—´æˆ³</li><li>%a æ˜ŸæœŸ</li><li>%A æ˜ŸæœŸï¼ˆå…¨ï¼‰</li></ul><p>è¾“å…¥</p><figure class="highlight perl"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"now"</span> |date:<span class="string">"%Y-%m-%d %H:%M"</span>}}</span><br><span class="line">{{<span class="string">"today"</span> |date:<span class="string">"%Y-%m-%d %H:%M"</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">2020</span><span class="number">-05</span><span class="number">-03</span> <span class="number">11</span>:<span class="number">56</span></span><br><span class="line"><span class="number">2020</span><span class="number">-05</span><span class="number">-03</span> <span class="number">11</span>:<span class="number">56</span></span><br></pre></td></tr></tbody></table></figure><h3 id="default-é»˜è®¤å€¼"><a href="#default-é»˜è®¤å€¼" class="headerlink" title="default é»˜è®¤å€¼"></a>default é»˜è®¤å€¼</h3><p>å½“å˜é‡æœªå®šä¹‰æˆ–ä¸ºç©ºæ—¶ï¼Œè¾“å‡ºé»˜è®¤å€¼<br>è¾“å…¥</p><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-variable">{{nub |<span class="name">default</span>:555 }}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">555</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å…¥</p><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{%- <span class="name">assign</span> nub = 666 -%}</span></span><br><span class="line"><span class="template-variable">{{nub |<span class="name">default</span>:555 }}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">666</span></span><br></pre></td></tr></tbody></table></figure><h3 id="plus-å°†ä¸¤æ•°ç›¸åŠ "><a href="#plus-å°†ä¸¤æ•°ç›¸åŠ " class="headerlink" title="plus å°†ä¸¤æ•°ç›¸åŠ "></a>plus å°†ä¸¤æ•°ç›¸åŠ </h3><p>è¾“å…¥</p><figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">{{</span> <span class="number">5</span> <span class="string">|</span> <span class="attr">plus:</span> <span class="number">6</span><span class="string">}}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">11</span></span><br></pre></td></tr></tbody></table></figure><h3 id="minus-å°†ä¸¤æ•°ç›¸å‡"><a href="#minus-å°†ä¸¤æ•°ç›¸å‡" class="headerlink" title="minus å°†ä¸¤æ•°ç›¸å‡"></a>minus å°†ä¸¤æ•°ç›¸å‡</h3><p>è¾“å…¥</p><figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">{{</span> <span class="number">8</span> <span class="string">|</span> <span class="attr">minus:</span> <span class="number">5</span><span class="string">}}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">3</span></span><br></pre></td></tr></tbody></table></figure><h3 id="times-å°†ä¸¤æ•°ç›¸ä¹˜"><a href="#times-å°†ä¸¤æ•°ç›¸ä¹˜" class="headerlink" title="times å°†ä¸¤æ•°ç›¸ä¹˜"></a>times å°†ä¸¤æ•°ç›¸ä¹˜</h3><p>è¾“å…¥</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">8</span>   | times: <span class="number">6</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">48</span></span><br></pre></td></tr></tbody></table></figure><h3 id="divided-by-å°†ä¸¤æ•°ç›¸é™¤"><a href="#divided-by-å°†ä¸¤æ•°ç›¸é™¤" class="headerlink" title="divided_by å°†ä¸¤æ•°ç›¸é™¤"></a>divided_by å°†ä¸¤æ•°ç›¸é™¤</h3><p>è¾“å…¥</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="number">17</span> | divided_by: <span class="number">4</span>}}</span><br><span class="line">{{<span class="number">17</span> | divided_by: <span class="number">4.0</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">4.25</span></span><br><span class="line"><span class="number">4.25</span></span><br></pre></td></tr></tbody></table></figure><h3 id="modulo-æ±‚ä½™"><a href="#modulo-æ±‚ä½™" class="headerlink" title="modulo æ±‚ä½™"></a>modulo æ±‚ä½™</h3><p>è¾“å…¥</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="number">10</span> | modulo:<span class="number">6</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="downcase-å°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™"><a href="#downcase-å°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™" class="headerlink" title="downcase å°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™"></a>downcase å°†å­—ç¬¦ä¸²è½¬ä¸ºå°å†™</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"ABCDEFG"</span> | downcase }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">abcdefg</span></span><br></pre></td></tr></tbody></table></figure><h3 id="upcase-å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™"><a href="#upcase-å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™" class="headerlink" title="upcase å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™"></a>upcase å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"abcdefg"</span> | upcase }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">ABCDEFG</span></span><br></pre></td></tr></tbody></table></figure><h3 id="first-è¾“å‡ºæ•°ç»„ç¬¬ä¸€é¡¹"><a href="#first-è¾“å‡ºæ•°ç»„ç¬¬ä¸€é¡¹" class="headerlink" title="first è¾“å‡ºæ•°ç»„ç¬¬ä¸€é¡¹"></a>first è¾“å‡ºæ•°ç»„ç¬¬ä¸€é¡¹</h3><p>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{% assign<span class="built_in"> array </span>= <span class="string">"1,2,3,4,5,6"</span>  | split: ',' %}</span><br><span class="line">{{array|first }}</span><br><span class="line">{{array.first }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="join-å°†æ•°ç»„è¿æ¥æˆå­—ç¬¦ä¸²"><a href="#join-å°†æ•°ç»„è¿æ¥æˆå­—ç¬¦ä¸²" class="headerlink" title="join å°†æ•°ç»„è¿æ¥æˆå­—ç¬¦ä¸²"></a>join å°†æ•°ç»„è¿æ¥æˆå­—ç¬¦ä¸²</h3><p>å‚æ•°ä¸ºè¿æ¥ç¬¦</p><p>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{% assign<span class="built_in"> array </span>= <span class="string">"a,b,c,d,e,f,g"</span> | split: ',' %}</span><br><span class="line">{{array | join: '-'}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">a-b-c<span class="_">-d</span><span class="_">-e</span><span class="_">-f</span>-g</span><br></pre></td></tr></tbody></table></figure><h3 id="lstrip-åˆ é™¤å­—ç¬¦å·¦ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦"><a href="#lstrip-åˆ é™¤å­—ç¬¦å·¦ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦" class="headerlink" title="lstrip  åˆ é™¤å­—ç¬¦å·¦ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦"></a>lstrip åˆ é™¤å­—ç¬¦å·¦ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"                s  t r i n g            "</span> | lstrip}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight excel"><table><tbody><tr><td class="code"><pre><span class="line">s <span class="built_in">t</span> r i <span class="built_in">n</span> g</span><br></pre></td></tr></tbody></table></figure><h3 id="rstrip-åˆ é™¤å­—ç¬¦å³ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦"><a href="#rstrip-åˆ é™¤å­—ç¬¦å³ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦" class="headerlink" title="rstrip  åˆ é™¤å­—ç¬¦å³ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦"></a>rstrip åˆ é™¤å­—ç¬¦å³ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"                s  t r i n g            "</span> | rstrip}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight excel"><table><tbody><tr><td class="code"><pre><span class="line">s  <span class="built_in">t</span> r i <span class="built_in">n</span> g</span><br></pre></td></tr></tbody></table></figure><h3 id="strip-åˆ é™¤å­—ç¬¦ä¸²ä¸¤ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦"><a href="#strip-åˆ é™¤å­—ç¬¦ä¸²ä¸¤ä¾§-ç©ºæ ¼-åˆ¶è¡¨ç¬¦-æ¢è¡Œç¬¦" class="headerlink" title="strip åˆ é™¤å­—ç¬¦ä¸²ä¸¤ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦"></a>strip åˆ é™¤å­—ç¬¦ä¸²ä¸¤ä¾§ ç©ºæ ¼ åˆ¶è¡¨ç¬¦ æ¢è¡Œç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"                s  t r i n g            "</span> | rstrip}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight excel"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">t</span> r i <span class="built_in">n</span> g</span><br></pre></td></tr></tbody></table></figure><h3 id="strip-html-åˆ é™¤å­—ç¬¦ä¸²å†…-html-æ ‡ç­¾"><a href="#strip-html-åˆ é™¤å­—ç¬¦ä¸²å†…-html-æ ‡ç­¾" class="headerlink" title="strip_html åˆ é™¤å­—ç¬¦ä¸²å†… html æ ‡ç­¾"></a>strip_html åˆ é™¤å­—ç¬¦ä¸²å†… html æ ‡ç­¾</h3><p>è¾“å…¥</p><figure class="highlight applescript"><table><tbody><tr><td class="code"><pre><span class="line">Have you <span class="built_in">read</span> Ulysses?</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="strip-newlines-åˆ é™¤å­—ç¬¦ä¸²å†…-æ¢è¡Œ-å­—ç¬¦"><a href="#strip-newlines-åˆ é™¤å­—ç¬¦ä¸²å†…-æ¢è¡Œ-å­—ç¬¦" class="headerlink" title="strip_newlines åˆ é™¤å­—ç¬¦ä¸²å†… æ¢è¡Œ å­—ç¬¦"></a>strip_newlines åˆ é™¤å­—ç¬¦ä¸²å†… æ¢è¡Œ å­—ç¬¦</h3><p>è¾“å…¥</p><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">capture</span> string %}</span></span><br><span class="line"><span class="xml">Hello</span></span><br><span class="line"><span class="xml">there</span></span><br><span class="line"><span class="template-tag">{% <span class="name">endcapture</span> %}</span></span><br><span class="line"><span class="template-variable">{{string | strip_newlines }}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">Hellothere</span></span><br></pre></td></tr></tbody></table></figure><h3 id="newline-to-br-å°†æ¢è¡Œç¬¦è½¬ä¸º"><a href="#newline-to-br-å°†æ¢è¡Œç¬¦è½¬ä¸º" class="headerlink" title="newline_to_br å°†æ¢è¡Œç¬¦è½¬ä¸º "></a>newline_to_br å°†æ¢è¡Œç¬¦è½¬ä¸º<br></h3><p>è¾“å…¥</p><figure class="highlight django"><table><tbody><tr><td class="code"><pre><span class="line"><span class="template-tag">{% <span class="name">capture</span> string %}</span></span><br><span class="line"><span class="xml">Hello</span></span><br><span class="line"><span class="xml">there</span></span><br><span class="line"><span class="template-tag">{% <span class="name">endcapture</span> %}</span></span><br><span class="line"><span class="template-variable">{{string | newline_to_br}}</span></span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">Hello<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">there<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="remove-åˆ é™¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„-å­å­—ç¬¦"><a href="#remove-åˆ é™¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„-å­å­—ç¬¦" class="headerlink" title="remove åˆ é™¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ å­å­—ç¬¦"></a>remove åˆ é™¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ å­å­—ç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="string">"abcdefg"</span> | remove: 'cd'}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">abefg</span></span><br></pre></td></tr></tbody></table></figure><h3 id="remove-first-åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„-å­å­—ç¬¦"><a href="#remove-first-åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„-å­å­—ç¬¦" class="headerlink" title="remove_first åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ å­å­—ç¬¦"></a>remove_first åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ å­å­—ç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="string">"abcdcdefg"</span> | remove_first: 'cd'}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">abcdefg</span></span><br></pre></td></tr></tbody></table></figure><h3 id="replace-æ›¿æ¢å­—ç¬¦"><a href="#replace-æ›¿æ¢å­—ç¬¦" class="headerlink" title="replace æ›¿æ¢å­—ç¬¦"></a>replace æ›¿æ¢å­—ç¬¦</h3><p>æ‰¾åˆ°å­—ç¬¦å¹¶æ›¿æ¢æ‰</p><p>è¾“å…¥</p><figure class="highlight groovy"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="string">"abcdcdefg"</span> | <span class="string">replace:</span> <span class="string">'c'</span>, <span class="string">'d'</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">abddddefg</span></span><br></pre></td></tr></tbody></table></figure><h3 id="replace-first-æ›¿æ¢å­—ç¬¦"><a href="#replace-first-æ›¿æ¢å­—ç¬¦" class="headerlink" title="replace_first æ›¿æ¢å­—ç¬¦"></a>replace_first æ›¿æ¢å­—ç¬¦</h3><p>å°†å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ›¿æ¢ä¸ºç¬¬äºŒä¸ªå‚æ•°<br>è¾“å…¥</p><figure class="highlight groovy"><table><tbody><tr><td class="code"><pre><span class="line">{{ <span class="string">"abcdcdefg"</span> | <span class="string">replace_first:</span> <span class="string">'c'</span>, <span class="string">'d'</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight ebnf"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attribute">abddcdefg</span></span><br></pre></td></tr></tbody></table></figure><h3 id="reverse-ç¿»è½¬æ•°ç»„"><a href="#reverse-ç¿»è½¬æ•°ç»„" class="headerlink" title="reverse ç¿»è½¬æ•°ç»„"></a>reverse ç¿»è½¬æ•°ç»„</h3><p>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{% assign<span class="built_in"> array </span>= <span class="string">"1,2,3,4,5,6"</span> | split: ',' %}</span><br><span class="line">{{array | reverse }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span></span><br></pre></td></tr></tbody></table></figure><h3 id="size-å­—ç¬¦é•¿åº¦-å¤§å°"><a href="#size-å­—ç¬¦é•¿åº¦-å¤§å°" class="headerlink" title="size å­—ç¬¦é•¿åº¦ å¤§å°"></a>size å­—ç¬¦é•¿åº¦ å¤§å°</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"s t r i n g"</span> |  size}}</span><br><span class="line">{% assign str = <span class="string">"s t r i n g"</span> %}</span><br><span class="line">{{str.size}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></tbody></table></figure><h3 id="slice-æˆªå–å­—ç¬¦ä¸²"><a href="#slice-æˆªå–å­—ç¬¦ä¸²" class="headerlink" title="slice æˆªå–å­—ç¬¦ä¸²"></a>slice æˆªå–å­—ç¬¦ä¸²</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"123456"</span>  | slice: <span class="number">0</span>}}</span><br><span class="line">{{<span class="string">"123456"</span>  | slice: <span class="number">2</span>,<span class="number">2</span>}}</span><br><span class="line">{{<span class="string">"123456"</span>  | slice: <span class="number">-1</span>}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">34</span></span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></tbody></table></figure><h3 id="sort-æ’åº-æŒ‰ç…§å­—æ¯å¤§å°å†™"><a href="#sort-æ’åº-æŒ‰ç…§å­—æ¯å¤§å°å†™" class="headerlink" title="sort æ’åº æŒ‰ç…§å­—æ¯å¤§å°å†™"></a>sort æ’åº æŒ‰ç…§å­—æ¯å¤§å°å†™</h3><p>åŒºåˆ†å¤§å°å†™<br>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{%- assign<span class="built_in"> array </span>= <span class="string">"a,f,r,S,d,g,O,y"</span> | split: ',' -%}</span><br><span class="line">{{-array| sort-}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">O,</span>S,a,d,f,g,r,y</span><br></pre></td></tr></tbody></table></figure><h3 id="sort-natural-æ’åº-ä¸æŒ‰ç…§å­—æ¯å¤§å°å†™"><a href="#sort-natural-æ’åº-ä¸æŒ‰ç…§å­—æ¯å¤§å°å†™" class="headerlink" title="sort_natural  æ’åº ä¸æŒ‰ç…§å­—æ¯å¤§å°å†™"></a>sort_natural æ’åº ä¸æŒ‰ç…§å­—æ¯å¤§å°å†™</h3><p>ä¸åŒºåˆ†å¤§å°å†™<br>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{%- assign<span class="built_in"> array </span>= <span class="string">"a,f,r,S,d,g,O,y"</span> | split: ',' -%}</span><br><span class="line">{{-array| sort_natural -}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">a,</span>d,f,g,O,r,S,y</span><br></pre></td></tr></tbody></table></figure><h3 id="split-åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„"><a href="#split-åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„" class="headerlink" title="split åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„"></a>split åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„</h3><p>è¾“å…¥</p><figure class="highlight smali"><table><tbody><tr><td class="code"><pre><span class="line">{%- assign<span class="built_in"> array </span>= <span class="string">"a,f,r,S,d,g,O,y"</span> | split: ',' -%}</span><br><span class="line">{{array}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight autohotkey"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">a,</span>f,r,S,d,g,O,y</span><br></pre></td></tr></tbody></table></figure><h3 id="truncate-è£å‰ªå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰-çœç•¥å·"><a href="#truncate-è£å‰ªå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰-çœç•¥å·" class="headerlink" title="truncate è£å‰ªå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰ çœç•¥å·"></a>truncate è£å‰ªå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰ çœç•¥å·</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"abcdefghijk"</span> | truncate: <span class="number">8</span>}}</span><br><span class="line">{{<span class="string">"abcdefghijk"</span> | truncate: <span class="number">8</span>,'...'}}</span><br><span class="line">{{<span class="string">"abcdefghijk"</span> | truncate: <span class="number">8</span>,'çœç•¥'}}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight gams"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">abcde</span></span>... </span><br><span class="line"><span class="function"><span class="title">abcde</span></span>... </span><br><span class="line">abcdefçœç•¥</span><br></pre></td></tr></tbody></table></figure><h3 id="truncatewords-è£å‰ªå­—ç¬¦ä¸²ï¼ˆå•è¯ä¸ªæ•°ï¼‰-çœç•¥å·"><a href="#truncatewords-è£å‰ªå­—ç¬¦ä¸²ï¼ˆå•è¯ä¸ªæ•°ï¼‰-çœç•¥å·" class="headerlink" title="truncatewords è£å‰ªå­—ç¬¦ä¸²ï¼ˆå•è¯ä¸ªæ•°ï¼‰ çœç•¥å·"></a>truncatewords è£å‰ªå­—ç¬¦ä¸²ï¼ˆå•è¯ä¸ªæ•°ï¼‰ çœç•¥å·</h3><p>è¾“å…¥</p><figure class="highlight vim"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"a b c d e f g h ijk"</span> | truncateword<span class="variable">s:</span> <span class="number">8</span>}}&lt;<span class="keyword">br</span>/&gt;</span><br><span class="line">{{<span class="string">"a b c d e f g h ijk"</span> | truncateword<span class="variable">s:</span> <span class="number">8</span>,<span class="string">'...'</span>}}&lt;<span class="keyword">br</span>/&gt;</span><br><span class="line">{{<span class="string">"a b c d e f g h ijk"</span> | truncateword<span class="variable">s:</span> <span class="number">8</span>,<span class="string">'çœç•¥'</span>}}&lt;<span class="keyword">br</span>/&gt;</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> c d e f g h...</span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> c d e f g h...</span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-tag">b</span> c d e f g hçœç•¥</span><br></pre></td></tr></tbody></table></figure><h3 id="url-encode-å°†å­—ç¬¦ä¸­-éurlå®‰å…¨å­—ç¬¦è½¬æ¢ä¸ºç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦"><a href="#url-encode-å°†å­—ç¬¦ä¸­-éurlå®‰å…¨å­—ç¬¦è½¬æ¢ä¸ºç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦" class="headerlink" title="url_encode å°†å­—ç¬¦ä¸­ éurlå®‰å…¨å­—ç¬¦è½¬æ¢ä¸ºç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦"></a>url_encode å°†å­—ç¬¦ä¸­ éurlå®‰å…¨å­—ç¬¦è½¬æ¢ä¸ºç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦</h3><p>è¾“å…¥</p><figure class="highlight clojure"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"baidu.com?q=@qq.com&amp;w=sd"</span> | url_encode }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">baidu.com%<span class="number">3</span>Fq%<span class="number">3</span>D%<span class="number">40</span>qq.com%<span class="number">26</span>w%<span class="number">3</span>Dsd</span><br></pre></td></tr></tbody></table></figure><h3 id="url-decode-å°†å­—ç¬¦ä¸­-ç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦-è§£ç "><a href="#url-decode-å°†å­—ç¬¦ä¸­-ç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦-è§£ç " class="headerlink" title="url_decode å°†å­—ç¬¦ä¸­ ç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦  è§£ç "></a>url_decode å°†å­—ç¬¦ä¸­ ç™¾åˆ†å·ç¼–ç çš„å­—ç¬¦ è§£ç </h3><p>è¾“å…¥</p><figure class="highlight perl"><table><tbody><tr><td class="code"><pre><span class="line">{{<span class="string">"baidu.com%3Fq%3D%40qq.com%26w%3Dsd"</span> | url_decode }}</span><br></pre></td></tr></tbody></table></figure><p>è¾“å‡º</p><figure class="highlight routeros"><table><tbody><tr><td class="code"><pre><span class="line">baidu.com?<span class="attribute">q</span>=@qq.com&amp;w=sd</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>æ–‡æ¡£</category>
        <category>Liquid</category>
      </categories>
      <tags>
        <tag>Shopify</tag>
        <tag>Liquid</tag>
      </tags>
  </entry>
  <entry>
    <title>shopify è‡ªå®šä¹‰åº”ç”¨å¼€å‘</title>
    <url>/2020/06/13/Shopify-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/15100/</url>
    <content><![CDATA[<p>å…¬å¸è¦æ±‚å¼€å‘ä¸€ä¸ª shopify åµŒå…¥å¼åº”ç”¨ï¼Œè¯´å®è¯ï¼Œå®åœ¨æ˜¯æœ‰äº›åå·ï¼Œä¸»è¦æ˜¯è‹±æ–‡æ–‡æ¡£ğŸ˜­ğŸ˜­ï¼Œåœ¨è¿™é‡Œè‡ªå·±åšä¸‹è®°å½•ã€‚<br>Shopify Inc.æ˜¯åŠ æ‹¿å¤§çš„ä¸€å®¶è·¨å›½ç”µå­å•†åŠ¡å…¬å¸.Shopifyä¸ºåœ¨çº¿é›¶å”®å•†æä¾›ä¸€æ•´å¥—æœåŠ¡â€œåŒ…æ‹¬æ”¯ä»˜ã€å¸‚åœºè¥é”€ã€è¿è¾“å’Œå®¢æˆ·å¥‘åˆå·¥å…·ï¼Œä»¥ç®€åŒ–å°å‹å•†æˆ·å¼€è®¾åœ¨çº¿å•†åº—çš„è¿‡ç¨‹</p><a id="more"></a><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><p>åœ¨å¼€å‘ä¹‹å‰å‘¢ï¼Œé¦–å…ˆä½ éœ€è¦å‡†å¤‡ä¸€ä¸ª <code>å¼€å‘è€…è´¦å·</code>ã€‚ <a href="https://partners.shopify.com/signup" target="_blank" rel="noopener">åˆ›å»ºä¸€ä¸ª Shopify åˆä½œä¼™ä¼´è´¦æˆ·</a></p><p>å®˜æ–¹æ¨èä½¿ç”¨ React Next ä½œä¸ºæ¸²æŸ“æ¡†æ¶ node ä½œä¸ºæœåŠ¡å™¨åç«¯å¼€å‘ ä½¿ç”¨ GraphQL Apollo ä½œä¸ºæŸ¥è¯¢è¯­è¨€ ä½¿ç”¨ Polaris ä½œä¸º UIç»„ä»¶åº“</p><h3 id="é¦–å…ˆè¦ç¡®ä¿è‡ªå·±å®‰è£…äº†-Node-js"><a href="#é¦–å…ˆè¦ç¡®ä¿è‡ªå·±å®‰è£…äº†-Node-js" class="headerlink" title="é¦–å…ˆè¦ç¡®ä¿è‡ªå·±å®‰è£…äº† Node.js"></a>é¦–å…ˆè¦ç¡®ä¿è‡ªå·±å®‰è£…äº† Node.js</h3><p>è¿è¡Œä¸€ä¸‹å‘½ä»¤ æ£€æŸ¥ node ç‰ˆæœ¬</p><figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br></pre></td></tr></tbody></table></figure><p>å¦‚æœå·²ç»å®‰è£…ï¼Œè¯·ç¡®ä¿æ‚¨ä½¿ç”¨çš„æ˜¯8.1.0æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p><h3 id="åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹"><a href="#åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹" class="headerlink" title="åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹"></a>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹</h3><p>åˆ›å»ºæ–‡ä»¶å¤¹ shopify_app</p><p>è¿›å…¥åˆ°é¡¹ç›®æ–‡ä»¶å¤¹</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> shopify_app</span><br></pre></td></tr></tbody></table></figure><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><figure class="highlight coffeescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> init -y</span><br></pre></td></tr></tbody></table></figure><h3 id="ä½¿ç”¨-Next-js-æ„å»º-React-æ”¯æ¶"><a href="#ä½¿ç”¨-Next-js-æ„å»º-React-æ”¯æ¶" class="headerlink" title="ä½¿ç”¨ Next.js æ„å»º React æ”¯æ¶"></a>ä½¿ç”¨ Next.js æ„å»º React æ”¯æ¶</h3><p>å®‰è£… Next React ReactDOM</p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> react react-dom <span class="keyword">next</span> <span class="comment">--save</span></span><br></pre></td></tr></tbody></table></figure><p>åœ¨æ ¹ç›®å½•ä¸­åˆ›å»º pages æ–‡ä»¶å¤¹<br>åœ¨ pages æ–‡ä»¶å¤¹ä¸­æ·»åŠ  index.js</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Index = <span class="function"><span class="params">()</span> =&gt;</span> (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;Sample app using React and Next.js&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Index;</span><br></pre></td></tr></tbody></table></figure><p>ä¿®æ”¹ package.json æ–‡ä»¶</p><figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">"scripts"</span>: {</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"dev"</span>: <span class="string">"next"</span>,</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"next build"</span>,</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"next start"</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h4><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> dev</span></span><br></pre></td></tr></tbody></table></figure><h3 id="å°†åº”ç”¨åµŒå…¥-Shopify"><a href="#å°†åº”ç”¨åµŒå…¥-Shopify" class="headerlink" title="å°†åº”ç”¨åµŒå…¥ Shopify"></a>å°†åº”ç”¨åµŒå…¥ Shopify</h3><p>å®‰è£… ngrok koa @shopify/koa-shopify-auth dotenv koa-session isomorphic-fetch @zeit/next-css @shopify/polaris @shopify/app-bridge-react js-cookie</p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> ngrok -g</span><br><span class="line">npm <span class="keyword">install</span> koa @shopify/koa-shopify-auth dotenv koa-<span class="keyword">session</span> isomorphic-<span class="keyword">fetch</span> <span class="comment">--save</span></span><br></pre></td></tr></tbody></table></figure><p>è¿è¡Œ</p><figure class="highlight angelscript"><table><tbody><tr><td class="code"><pre><span class="line">ngrok http <span class="number">3000</span></span><br></pre></td></tr></tbody></table></figure><h4 id="è·å–-shopifyAPIç§˜é’¥-å’Œ-shopifyAPIç§˜å¯†ç§˜é’¥"><a href="#è·å–-shopifyAPIç§˜é’¥-å’Œ-shopifyAPIç§˜å¯†ç§˜é’¥" class="headerlink" title="è·å– shopifyAPIç§˜é’¥ å’Œ shopifyAPIç§˜å¯†ç§˜é’¥"></a>è·å– shopifyAPIç§˜é’¥ å’Œ shopifyAPIç§˜å¯†ç§˜é’¥</h4><p>é€šè¿‡ç™»å½• <a href="https://partners.shopify.com/signup" target="_blank" rel="noopener">Shopify åˆä½œä¼™ä¼´è´¦æˆ·</a> åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åº<br>è·å–ã€‚æ‚¨å¯ä»¥åˆ›å»ºï¼š å…¬å…±åº”ç”¨ç¨‹åº è‡ªå®šä¹‰åº”ç”¨ç¨‹åº ç§äººåº”ç”¨ç¨‹åº<br>è¿™é‡Œæˆ‘ä»¬åˆ›å»º è‡ªå®šä¹‰åº”ç”¨ç¨‹åº</p><p>åœ¨ <code>åº”ç”¨ç¨‹åºURL</code> ä¸­å¡«å…¥ ngrokè½¬å‘URLçš„HTTPSç‰ˆæœ¬<br>å°†ç›¸åŒçš„HTTPSè½¬å‘URLç²˜è´´åˆ° <code>åˆ—å…¥ç™½åå•çš„é‡å®šå‘URL</code> å­—æ®µä¸­ï¼Œå¹¶å°† /auth/ allback æ·»åŠ åˆ°è·¯å¾„çš„æœ«å°¾<br>ç„¶å åˆ›å»ºåº”ç”¨</p><p>ç„¶ååœ¨æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">SHOPIFY_API_KEY = 'æ‚¨çš„æ¥è‡ªSHOPIFY PARTNERSä»ªè¡¨æ¿çš„APIå¯†é’¥' </span><br><span class="line">SHOPIFY_API_SECRET_KEY = 'æ‚¨çš„æ¥è‡ªSHOPIFY PARTNERSä»ªè¡¨æ¿çš„APIå¯†é’¥'</span><br></pre></td></tr></tbody></table></figure><h4 id="è®¾ç½®-Node-js-æœåŠ¡å™¨-OAuth-æˆæƒè®¤è¯"><a href="#è®¾ç½®-Node-js-æœåŠ¡å™¨-OAuth-æˆæƒè®¤è¯" class="headerlink" title="è®¾ç½® Node.js æœåŠ¡å™¨ OAuth æˆæƒè®¤è¯"></a>è®¾ç½® Node.js æœåŠ¡å™¨ OAuth æˆæƒè®¤è¯</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ åˆ›å»º server.js æ–‡ä»¶</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'isomorphic-fetch'</span>)</span><br><span class="line"><span class="keyword">const</span> dotenv = <span class="built_in">require</span>(<span class="string">'dotenv'</span>)</span><br><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> next = <span class="built_in">require</span>(<span class="string">'next'</span>)</span><br><span class="line"><span class="keyword">const</span> { <span class="attr">default</span>: createShopifyAuth } = <span class="built_in">require</span>(<span class="string">'@shopify/koa-shopify-auth'</span>)</span><br><span class="line"><span class="keyword">const</span> { verifyRequest } = <span class="built_in">require</span>(<span class="string">'@shopify/koa-shopify-auth'</span>)</span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">'koa-session'</span>)</span><br><span class="line">dotenv.config()</span><br><span class="line"><span class="comment">// graphqlçš„ç›¸å…³ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> { <span class="attr">default</span>: graphQLProxy } = <span class="built_in">require</span>(<span class="string">'@shopify/koa-shopify-graphql-proxy'</span>)</span><br><span class="line"><span class="keyword">const</span> { ApiVersion } = <span class="built_in">require</span>(<span class="string">'@shopify/koa-shopify-graphql-proxy'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="built_in">parseInt</span>(process.env.PORT, <span class="number">10</span>) || <span class="number">3000</span></span><br><span class="line"><span class="keyword">const</span> dev = process.env.NODE_ENV !== <span class="string">'production'</span></span><br><span class="line"><span class="keyword">const</span> app = next({ dev })</span><br><span class="line"><span class="keyword">const</span> handle = app.getRequestHandler()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> { SHOPIFY_API_SECRET_KEY, SHOPIFY_API_KEY } = process.env <span class="comment">// ç¯å¢ƒå˜é‡é‡Œè¯»å– api-keyä¸api-secret-key</span></span><br><span class="line"></span><br><span class="line">app.prepare().then(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">const</span> server = <span class="keyword">new</span> Koa()</span><br><span class="line">    server.use(session(server))</span><br><span class="line">    server.keys = [SHOPIFY_API_SECRET_KEY]</span><br><span class="line">    server.use(</span><br><span class="line">        createShopifyAuth({</span><br><span class="line">        apiKey: SHOPIFY_API_KEY,</span><br><span class="line">            secret: SHOPIFY_API_SECRET_KEY,</span><br><span class="line">            scopes: [<span class="string">'read_products'</span>, <span class="string">'write_products'</span>,<span class="string">'read_orders'</span>], <span class="comment">//å¡«å†™ç›¸å…³åº”ç”¨apiç›¸å…³è¯·æ±‚çš„æƒé™</span></span><br><span class="line">            afterAuth (ctx) {</span><br><span class="line">                <span class="keyword">const</span> { shop, accessToken } = ctx.session <span class="comment">// é€šè¿‡sessionæ‹¿å–ç›¸å…³å•†åº—åœ°å€ä»¥åŠè¯·æ±‚apiéœ€è¦çš„accessToken</span></span><br><span class="line">                ctx.cookies.set(<span class="string">'shopOrigin'</span>, shop, { <span class="attr">httpOnly</span>: <span class="literal">false</span> })</span><br><span class="line">                ctx.redirect(<span class="string">'/'</span>) <span class="comment">// é‡å®šå‘åˆ°indexé¦–é¡µ</span></span><br><span class="line">            }</span><br><span class="line">        })</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    server.use(verifyRequest())</span><br><span class="line">    server.use(<span class="keyword">async</span> (ctx) =&gt; {</span><br><span class="line">        <span class="keyword">await</span> handle(ctx.req, ctx.res)</span><br><span class="line">        ctx.respond = <span class="literal">false</span></span><br><span class="line">        ctx.res.statusCode = <span class="number">200</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    server.use(graphQLProxy({ <span class="attr">version</span>: ApiVersion.October19 })) <span class="comment">// è¿™é‡Œå¡«å†™ç›¸å…³apiçš„ç‰ˆæœ¬</span></span><br><span class="line">    server.listen(port, () =&gt; {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`&gt; Ready on http://localhost:<span class="subst">${port}</span>`</span>) <span class="comment">// ç›‘å¬ç«¯å£</span></span><br><span class="line">    })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><p>ä¿®æ”¹ package.json æ–‡ä»¶</p><figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line">{</span><br><span class="line">  <span class="attr">"scripts"</span>: {</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="attr">"dev"</span>: <span class="string">"node server.js"</span>,</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"next build"</span>,</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"NODE_ENV=production node server.js"</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>ç„¶åå¯åŠ¨é¡¹ç›® å°†åº”ç”¨å®‰è£…åˆ°è‡ªå·±çš„æµ‹è¯•å•†åº— å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åº”ç”¨å·²ç»æˆåŠŸè¿è¡Œäº†ï¼</p><p>Shopify å®˜æ–¹æ–‡æ¡£<br><a href="https://shopify.dev/concepts/shopify-introduction" target="_blank" rel="noopener">Shopify developers</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Shopify</category>
      </categories>
      <tags>
        <tag>shopify</tag>
        <tag>next.js</tag>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title>Redux å°è¯•ç‰›åˆ€</title>
    <url>/2020/06/07/Redux-%E5%B0%8F%E8%AF%95%E7%89%9B%E5%88%80/37966/</url>
    <content><![CDATA[<p>åœ¨ä½¿ç”¨ Redux ä¹‹å‰ï¼Œé¦–å…ˆè¦äº†è§£ä¸ºä»€ä¹ˆä½¿ç”¨ Reduxã€‚</p><blockquote><p>éšç€ JavaScript å•é¡µåº”ç”¨å¼€å‘æ—¥è¶‹å¤æ‚ï¼ŒJavaScript éœ€è¦ç®¡ç†æ¯”ä»»ä½•æ—¶å€™éƒ½è¦å¤šçš„ state ï¼ˆçŠ¶æ€ï¼‰ã€‚ è¿™äº› state å¯èƒ½åŒ…æ‹¬æœåŠ¡å™¨å“åº”ã€ç¼“å­˜æ•°æ®ã€æœ¬åœ°ç”Ÿæˆå°šæœªæŒä¹…åŒ–åˆ°æœåŠ¡å™¨çš„æ•°æ®ï¼Œä¹ŸåŒ…æ‹¬ UI çŠ¶æ€ï¼Œå¦‚æ¿€æ´»çš„è·¯ç”±ï¼Œè¢«é€‰ä¸­çš„æ ‡ç­¾ï¼Œæ˜¯å¦æ˜¾ç¤ºåŠ è½½åŠ¨æ•ˆæˆ–è€…åˆ†é¡µå™¨ç­‰ç­‰ã€‚</p></blockquote><a id="more"></a><h3 id="Redux-ä¸‰è¦ç´ "><a href="#Redux-ä¸‰è¦ç´ " class="headerlink" title="Redux ä¸‰è¦ç´ "></a>Redux ä¸‰è¦ç´ </h3><ul><li>Actionï¼ˆå°†è¦å‘ç”Ÿçš„æ“ä½œï¼‰</li><li>Reducerï¼ˆæ ¹æ® action æ›´æ–° stateï¼Œæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼‰<ul><li>æä¾› combineReducers(reducers) å‡½æ•°ç»„åˆå¤šä¸ª reducer</li></ul></li><li>å­˜æ”¾ state æ•°æ®çš„ Storeï¼ˆå°† action å’Œ reducer è”ç³»åˆ°ä¸€èµ·çš„å¯¹è±¡ï¼‰<ul><li>æä¾› getState() æ–¹æ³•è·å– state</li><li>æä¾› dispatch(action) æ–¹æ³•æ›´æ–° state</li><li>é€šè¿‡ subsctibe(listener) æ³¨å†Œç›‘å¬å™¨</li><li>é€šè¿‡ subscribr(listener) è¿”å›çš„å‡½æ•°æ³¨é”€ç›‘å¬å™¨</li></ul></li></ul><h3 id="ä¸‰å¤§åŸºæœ¬åŸåˆ™"><a href="#ä¸‰å¤§åŸºæœ¬åŸåˆ™" class="headerlink" title="ä¸‰å¤§åŸºæœ¬åŸåˆ™"></a>ä¸‰å¤§åŸºæœ¬åŸåˆ™</h3><ol><li>å•ä¸€æ•°æ®æº</li><li>state æ˜¯åªè¯»çš„ï¼Œåªèƒ½é€šè¿‡è§¦å‘ action ä¿®æ”¹ state</li><li>ä½¿ç”¨çº¯å‡½æ•°æ¥æ‰§è¡Œä¿®æ”¹</li></ol><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li>åˆ›å»º reducer</li><li>åˆ›å»º store ç”¨äºå­˜å‚¨</li><li>ç»‘å®šäº‹ä»¶</li><li>å®šä¹‰ render å‡½æ•°ï¼Œæ›´æ–°è§†å›¾</li><li>ä¸º store æ·»åŠ ç›‘å¬ï¼Œæ¯æ¬¡çŠ¶æ€å‘ç”Ÿå˜åŒ–å³åˆ»è°ƒç”¨renderå‡½æ•°æ¸²æŸ“ç»„ä»¶</li><li>åˆå§‹åŒ–æ¸²æŸ“é»˜è®¤æ•°æ®</li></ol><p>æˆ‘ä»¬ç”¨ Redux æ¥å†™ä¸€ä¸ªè®¡æ•°å™¨</p><h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><p>ç¼–å†™ HTML ä»£ç </p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>è®¡æ•°å™¨ï¼š<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"num"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"addNum()"</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"minNum()"</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"doubleness()"</span>&gt;</span>2å€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"square()"</span>&gt;</span>å¹³æ–¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="å¯¼å…¥-redux-min-js"><a href="#å¯¼å…¥-redux-min-js" class="headerlink" title="å¯¼å…¥ redux.min.js"></a>å¯¼å…¥ redux.min.js</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">"./redux.min.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></tbody></table></figure><h4 id="å®šä¹‰æ–¹æ³•"><a href="#å®šä¹‰æ–¹æ³•" class="headerlink" title="å®šä¹‰æ–¹æ³•"></a>å®šä¹‰æ–¹æ³•</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> addNum = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> action = {</span><br><span class="line">        type: <span class="string">'ADD_ONE'</span></span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">}</span><br><span class="line"><span class="keyword">const</span> minNum = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> action = {</span><br><span class="line">        type: <span class="string">'MIN_ONE'</span></span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">}</span><br><span class="line"><span class="keyword">const</span> doubleness = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> action = {</span><br><span class="line">        type: <span class="string">'DOUBLENESS'</span></span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">let</span> action = {</span><br><span class="line">        type: <span class="string">'SQUARE'</span></span><br><span class="line">    }</span><br><span class="line">    store.dispatch(action)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h4 id="åˆ›å»ºçº¯å‡½æ•°"><a href="#åˆ›å»ºçº¯å‡½æ•°" class="headerlink" title="åˆ›å»ºçº¯å‡½æ•°"></a>åˆ›å»ºçº¯å‡½æ•°</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> counter = <span class="function">(<span class="params">state = <span class="number">0</span>, action</span>) =&gt;</span> {</span><br><span class="line">            <span class="keyword">switch</span> (action.type) {</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'ADD_ONE'</span>:</span><br><span class="line">                    <span class="keyword">return</span> state + <span class="number">1</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'MIN_ONE'</span>:</span><br><span class="line">                    <span class="keyword">return</span> state - <span class="number">1</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'DOUBLENESS'</span>:</span><br><span class="line">                    <span class="keyword">return</span> state * <span class="number">2</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">'SQUARE'</span>:</span><br><span class="line">                    <span class="keyword">return</span> state * state</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">return</span> state</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure><h4 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h4><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = Redux.createStore(counter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> readen = <span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'num'</span>).innerHTML = store.getState()</span><br><span class="line">    <span class="built_in">console</span>.log(store.getState());</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">readen()</span><br><span class="line">store.subscribe(readen)</span><br></pre></td></tr></tbody></table></figure><p><a href="https://www.redux.org.cn/" target="_blank" rel="noopener">Redux ä¸­æ–‡æ–‡æ¡£</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Redux</category>
      </categories>
      <tags>
        <tag>Redux</tag>
      </tags>
  </entry>
  <entry>
    <title>OWL Carousel2</title>
    <url>/2020/05/24/OWL-Carousel2/13606/</url>
    <content><![CDATA[<p>Owl Carousel æ˜¯ä¸€ä¸ªå¼ºå¤§ã€å®ç”¨ä½†å°å·§çš„ jQuery å¹»ç¯ç‰‡æ’ä»¶ï¼Œå®ƒå…·æœ‰ä¸€ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å…¼å®¹æ‰€æœ‰æµè§ˆå™¨</li><li>æ”¯æŒå“åº”å¼</li><li>æ”¯æŒ CSS3 è¿‡åº¦</li><li>æ”¯æŒè§¦æ‘¸äº‹ä»¶</li><li>æ”¯æŒ JSON åŠè‡ªå®šä¹‰ JSON æ ¼å¼</li><li>æ”¯æŒè¿›åº¦æ¡</li><li>æ”¯æŒè‡ªå®šä¹‰äº‹ä»¶</li><li>æ”¯æŒå»¶è¿ŸåŠ è½½</li><li>æ”¯æŒè‡ªé€‚åº”é«˜åº¦</li></ul><p>Owl Carousel æä¾›äº†ä¼—å¤šçš„å‚æ•°ã€å›è°ƒå‡½æ•°åŠè‡ªå®šä¹‰äº‹ä»¶ï¼ˆå…·ä½“è¯·å¾€ä¸‹æµè§ˆï¼‰ï¼Œæ‰€ä»¥å®ƒå‡ ä¹å¯ä»¥æ»¡è¶³ä½ çš„æ‰€æœ‰è¦æ±‚ã€‚</p><a id="more"></a><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><figure class="highlight gams"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built-in">div</span>#outer&gt;<span class="built-in">div</span>.item*<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">$</span>(<span class="string">'#outer'</span>).owlCarousel({</span><br><span class="line">  ...</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure><table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>items</td><td>Number</td><td>3</td><td>æ‚¨æƒ³è¦åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„é¡¹ç›®æ•°ã€‚</td></tr><tr><td>margin</td><td>Number</td><td>0</td><td>é¡¹ç›®ä¸Šçš„margin-rightï¼ˆpxï¼‰ã€‚</td></tr><tr><td>loop</td><td>Boolean</td><td>false</td><td>æ— é™å¾ªç¯ã€‚å¤åˆ¶æœ€åä¸€ä¸ªå’Œç¬¬ä¸€ä¸ªé¡¹ç›®ä»¥è·å¾—å¾ªç¯å¹»è§‰ã€‚</td></tr><tr><td>center</td><td>Boolean</td><td>false</td><td>ä¸­å¿ƒé¡¹ã€‚é€‚ç”¨äºå¶æ•°ä¸ªé¡¹ç›®ã€‚</td></tr><tr><td>mouseDrag</td><td>Boolean</td><td>true</td><td>å¯ç”¨é¼ æ ‡æ‹–åŠ¨ã€‚</td></tr><tr><td>touchDrag</td><td>Boolean</td><td>true</td><td>è§¦æ‘¸æ‹–åŠ¨å·²å¯ç”¨</td></tr><tr><td>pullDrag</td><td>Boolean</td><td>true</td><td>èˆå°æ‹‰åˆ°è¾¹ç¼˜ã€‚</td></tr><tr><td>freeDrag</td><td>Boolean</td><td>false</td><td>é¡¹ç›®æ‹‰åˆ°è¾¹ç¼˜ã€‚</td></tr><tr><td>stagePadding</td><td>Number</td><td>0</td><td>åœ¨èˆå°ä¸Šå·¦å³æ»‘åŠ¨ï¼ˆå¯ä»¥çœ‹åˆ°é‚»å±…ï¼‰ã€‚</td></tr><tr><td>merge</td><td>Boolean</td><td>false</td><td>åˆå¹¶é¡¹ç›®ã€‚åœ¨é¡¹ç›®å†…å¯»æ‰¾data-merge =â€™{number}â€™ã€‚</td></tr><tr><td>mergeFit</td><td>Boolean</td><td>true</td><td>å¦‚æœå±å¹•å°äºé¡¹ç›®å€¼ï¼Œåˆ™é€‚åˆåˆå¹¶çš„é¡¹ç›®ã€‚</td></tr><tr><td>autoWidth</td><td>Boolean</td><td>false</td><td>è®¾ç½®éç½‘æ ¼å†…å®¹ã€‚å°è¯•åœ¨divä¸Šä½¿ç”¨å®½åº¦æ ·å¼ã€‚</td></tr><tr><td>startPosition</td><td>Number/String</td><td>0</td><td>èµ·å§‹ä½ç½®æˆ–URLå“ˆå¸Œå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€œ #idâ€ã€‚</td></tr><tr><td>URLhashListener</td><td>Boolean</td><td>false</td><td>ç›‘å¬ç½‘å€å“ˆå¸Œæ›´æ”¹ã€‚é¡¹ä¸Šçš„æ•°æ®å“ˆå¸Œæ˜¯å¿…éœ€çš„ã€‚</td></tr><tr><td>nav</td><td>Boolean</td><td>false</td><td>æ˜¾ç¤ºä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæŒ‰é’®ã€‚</td></tr><tr><td>rewind</td><td>Boolean</td><td>true</td><td>åˆ°è¾¾è¾¹ç•Œåå‘åèµ°ã€‚</td></tr><tr><td>navText</td><td>Array</td><td>['next','prev']</td><td>å…è®¸HTMLã€‚</td></tr><tr><td>navElement</td><td>String</td><td>div</td><td>å•ä¸ªæ–¹å‘å¯¼èˆªé“¾æ¥çš„DOMå…ƒç´ ç±»å‹ã€‚</td></tr><tr><td>slideBy</td><td>Number/String</td><td>1</td><td>å¯¼èˆªå¹»ç¯ç‰‡xã€‚å¯ä»¥å°†â€œpageâ€å­—ç¬¦ä¸²è®¾ç½®ä¸ºé€é¡µæ»‘åŠ¨ã€‚</td></tr><tr><td>slideTransition</td><td>String</td><td>``</td><td>æ‚¨å¯ä»¥å®šä¹‰è¦ä½¿ç”¨çš„é˜¶æ®µçš„è¿‡æ¸¡ï¼Œä¾‹å¦‚ã€‚çº¿æ€§çš„ã€‚</td></tr><tr><td>dots</td><td>Boolean</td><td>true</td><td>æ˜¾ç¤ºç‚¹å¯¼èˆªã€‚</td></tr><tr><td>dotsEach</td><td>Number/Boolean</td><td>false</td><td>æ¯ä¸ªxé¡¹ç›®æ˜¾ç¤ºç‚¹ã€‚</td></tr><tr><td>dotsData</td><td>Boolean</td><td>false</td><td>ç”±æ•°æ®ç‚¹å†…å®¹ä½¿ç”¨ã€‚</td></tr><tr><td>lazyLoad</td><td>Boolean</td><td>false</td><td>å»¶è¿ŸåŠ è½½å›¾åƒã€‚data-srcå’Œdata-src-retinaç”¨äºé«˜åˆ†è¾¨ç‡ã€‚å¦‚æœå…ƒç´ ä¸æ˜¯<img>ï¼Œä¹Ÿå°†å›¾åƒåŠ è½½ä¸ºèƒŒæ™¯å†…è”æ ·å¼</td></tr><tr><td>lazyLoadEager</td><td>Number</td><td>0</td><td>æ ¹æ®è¦é¢„åŠ è½½çš„é¡¹ç›®ï¼Œå°†å›¾åƒé¢„å…ˆæ­£ç¡®åœ°é¢„åŠ è½½åˆ°å³ä¾§ï¼ˆå¯ç”¨å¾ªç¯æ—¶å‘å·¦åŠ è½½ï¼‰ã€‚</td></tr><tr><td>autoplay</td><td>Boolean</td><td>false</td><td>è‡ªåŠ¨æ’­æ”¾ã€‚</td></tr><tr><td>autoplayTimeout</td><td>Number</td><td>5000</td><td>è‡ªåŠ¨æ’­æ”¾é—´éš”è¶…æ—¶ã€‚</td></tr><tr><td>autoplayHoverPause</td><td>Boolean</td><td>false</td><td>é¼ æ ‡æ‚¬åœæ—¶æš‚åœã€‚</td></tr><tr><td>smartSpeed</td><td>Number</td><td>250</td><td>é€Ÿåº¦è®¡ç®—ã€‚</td></tr><tr><td>fluidSpeed</td><td>Boolean</td><td>Number</td><td>é€Ÿåº¦è®¡ç®—</td></tr><tr><td>autoplaySpeed</td><td>Number/Boolean</td><td>false</td><td>è‡ªåŠ¨æ’­æ”¾é€Ÿåº¦ã€‚</td></tr><tr><td>navSpeed</td><td>Number/Boolean</td><td>false</td><td>å¯¼èˆªé€Ÿåº¦ã€‚</td></tr><tr><td>dotsSpeed</td><td>Boolean</td><td>Number/Boolean</td><td>åˆ†é¡µé€Ÿåº¦ã€‚</td></tr><tr><td>dragEndSpeed</td><td>Number/Boolean</td><td>false</td><td>æ‹–åŠ¨ç»“æŸé€Ÿåº¦ã€‚</td></tr><tr><td>callbacks</td><td>Boolean</td><td>true</td><td>å¯ç”¨å›è°ƒäº‹ä»¶ã€‚</td></tr><tr><td>responsive</td><td>Object</td><td>empty object</td><td>åŒ…å«å“åº”é€‰é¡¹çš„å¯¹è±¡ã€‚å¯ä»¥è®¾ç½®ä¸ºfalseä»¥åˆ é™¤å“åº”åŠŸèƒ½ã€‚</td></tr><tr><td>responsiveRefreshRate</td><td>Number</td><td>200</td><td>å“åº”åˆ·æ–°ç‡ã€‚</td></tr><tr><td>responsiveBaseElement</td><td>DOM element</td><td>window</td><td>åœ¨ä»»ä½•DOMå…ƒç´ ä¸Šè®¾ç½®ã€‚å¦‚æœæ‚¨å…³å¿ƒæ— å“åº”çš„æµè§ˆå™¨ï¼ˆä¾‹å¦‚ie8ï¼‰ï¼Œè¯·åœ¨ä¸»åŒ…è£…å™¨ä¸Šä½¿ç”¨å®ƒã€‚è¿™å°†é˜²æ­¢ç–¯ç‹‚è°ƒæ•´å¤§å°</td></tr><tr><td>video</td><td>Boolean</td><td>false</td><td>å¯ç”¨æå–YouTube / Vimeo / Vzaarè§†é¢‘çš„åŠŸèƒ½ã€‚</td></tr><tr><td>videoHeight</td><td>Number/Boolean</td><td>false</td><td>è®¾ç½®è§†é¢‘çš„é«˜åº¦ã€‚</td></tr><tr><td>videoWidth</td><td>Number/Boolean</td><td>false</td><td>è®¾ç½®è§†é¢‘çš„å®½åº¦ã€‚</td></tr><tr><td>animateOut</td><td>String/Boolean</td><td>false</td><td>CSS3åŠ¨ç”»ç±»ã€‚</td></tr><tr><td>animateIn</td><td>String/Boolean</td><td>false</td><td>è¾“å…¥CSS3åŠ¨ç”»çš„ç±»ã€‚</td></tr><tr><td>fallbackEasing</td><td>String</td><td>swing</td><td>ç®€åŒ–CSS2 $ .animateã€‚</td></tr><tr><td>info</td><td>Function</td><td>false</td><td>å›è°ƒä»¥è·å–åŸºæœ¬ä¿¡æ¯ï¼ˆå½“å‰é¡¹ç›®/é¡µé¢/å®½åº¦ï¼‰ã€‚ä¿¡æ¯åŠŸèƒ½çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯Owl DOMå¯¹è±¡å¼•ç”¨ã€‚</td></tr><tr><td>nestedItemSelector</td><td>String/Class</td><td>false</td><td>å¦‚æœçŒ«å¤´é¹°é¡¹ç›®æ·±æ·±åµŒå¥—åœ¨æŸäº›ç”Ÿæˆçš„å†…å®¹ä¸­ï¼Œè¯·ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚â€œ youritemâ€ã€‚åœ¨ç±»åä¹‹å‰ä¸è¦ä½¿ç”¨ç‚¹å·ã€‚</td></tr><tr><td>itemElement</td><td>String</td><td>div</td><td>ç”¨äºowl-itemçš„DOMå…ƒç´ ç±»å‹ã€‚</td></tr><tr><td>stageElement</td><td>String</td><td>div</td><td>ç”¨äºowl-itemçš„DOMå…ƒç´ ç±»å‹ã€‚</td></tr><tr><td>navContainer</td><td>String/Class/ID/Boolean</td><td>false</td><td>ä¸ºnavè®¾ç½®è‡ªå·±çš„å®¹å™¨ã€‚</td></tr><tr><td>dotsContainer</td><td>String/Class/ID/Boolean</td><td>false</td><td>ä¸ºnavè®¾ç½®è‡ªå·±çš„å®¹å™¨ã€‚</td></tr><tr><td>checkVisible</td><td>Boolean</td><td>true</td><td>å¦‚æœæ‚¨çŸ¥é“è½®æ’­æ€»æ˜¯å¯è§çš„ï¼Œåˆ™å¯ä»¥å°†checkVisibilityè®¾ç½®ä¸ºfalseï¼Œä»¥é˜²æ­¢æ˜‚è´µçš„æµè§ˆå™¨å¸ƒå±€å¼ºåˆ¶å›æµ$ element.isï¼ˆâ€™ï¼švisibleâ€™ï¼‰ã€‚</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p><a href="https://owlcarousel2.github.io/OwlCarousel2/docs/api-options.html" target="_blank" rel="noopener">OWL Carousel2å®˜æ–¹æ–‡æ¡£</a></p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>æ–‡æ¡£</category>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQueryæ’ä»¶</tag>
        <tag>jQueryè½®æ’­å›¾</tag>
        <tag>OWL Carousel2</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•æ­å»ºReacté¡¹ç›®</title>
    <url>/2020/04/13/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAReact%E9%A1%B9%E7%9B%AE/45936/</url>
    <content><![CDATA[<h2 id="React-æ˜¯ä»€ä¹ˆ"><a href="#React-æ˜¯ä»€ä¹ˆ" class="headerlink" title="React æ˜¯ä»€ä¹ˆ"></a>React æ˜¯ä»€ä¹ˆ</h2><p>React æ˜¯ä¸€ä¸ªå£°æ˜å¼ï¼Œé«˜æ•ˆä¸”çµæ´»çš„ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚ä½¿ç”¨ React å¯ä»¥å°†ä¸€äº›ç®€çŸ­ã€ç‹¬ç«‹çš„ä»£ç ç‰‡æ®µç»„åˆæˆå¤æ‚çš„ UI ç•Œé¢ï¼Œè¿™äº›ä»£ç ç‰‡æ®µè¢«ç§°ä½œâ€œç»„ä»¶â€ã€‚</p><a id="more"></a><h2 id="React-é¡¹ç›®æ­å»ºæ­¥éª¤"><a href="#React-é¡¹ç›®æ­å»ºæ­¥éª¤" class="headerlink" title="React é¡¹ç›®æ­å»ºæ­¥éª¤"></a>React é¡¹ç›®æ­å»ºæ­¥éª¤</h2><ol><li>å®‰è£… Node npm å¹¶æ£€æŸ¥å…¶ç‰ˆæœ¬<figure class="highlight crmsh"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br><span class="line">npm -v</span><br></pre></td></tr></tbody></table></figure></li><li>åˆ›å»ºé¡¹ç›®<figure class="highlight dsconfig"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">npx </span><span class="built_in">create-react-app</span> <span class="string">my-app</span></span><br></pre></td></tr></tbody></table></figure></li><li>æ‰“å¼€é¡¹ç›®<figure class="highlight dos"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> my-app</span><br><span class="line"></span><br><span class="line">npm <span class="built_in">start</span></span><br></pre></td></tr></tbody></table></figure></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackï¼ˆ2ï¼‰</title>
    <url>/2020/04/11/webpack%EF%BC%882%EF%BC%89/16618/</url>
    <content><![CDATA[<p>å¦‚ä½•é…ç½® webpack è½¬åŒ–å™¨ï¼Œ webpack æ’ä»¶ï¼Œ webpack å¼€å‘æœåŠ¡å™¨å‘¢ï¼Ÿ</p><a id="more"></a><h2 id="webpack-è½¬åŒ–å™¨"><a href="#webpack-è½¬åŒ–å™¨" class="headerlink" title="webpack è½¬åŒ–å™¨"></a>webpack è½¬åŒ–å™¨</h2><blockquote><p>loader è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶ï¼ˆwebpack è‡ªèº«åªç†è§£ JavaScriptï¼‰ã€‚ä¾‹å¦‚ï¼šlessã€sassç­‰loader å¯ä»¥å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ webpack çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚test å±æ€§ï¼Œç”¨äºæ ‡è¯†å‡ºåº”è¯¥è¢«å¯¹åº”çš„ loader è¿›è¡Œè½¬æ¢çš„æŸä¸ªæˆ–æŸäº›æ–‡ä»¶ã€‚use å±æ€§ï¼Œè¡¨ç¤ºè¿›è¡Œè½¬æ¢æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ª loaderã€‚</p></blockquote><ul><li>ä¾‹1 è‹¥è¦å¼•ç”¨ css æ ·å¼ï¼Œåˆ™è¦é…ç½®ç›¸åº”çš„é…ç½®</li></ul><ol><li>å®‰è£… style-loader css-loader<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="keyword">style</span>-loader css-loader</span><br></pre></td></tr></tbody></table></figure></li><li>åœ¨ module ä¸‹é…ç½®<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: {<span class="comment">// loladers éµå¾ªmodule.rulesè§„åˆ™</span></span><br><span class="line">    rules: [<span class="comment">// è§„åˆ™</span></span><br><span class="line">        {<span class="comment">// æ ·å¼</span></span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">        }</span><br><span class="line">    ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li>ä¾‹2 å¼•ç”¨å›¾ç‰‡</li></ul><ol><li>å®‰è£… url-lolader file-loader<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="keyword">url</span>-lolader <span class="keyword">file</span>-loader</span><br></pre></td></tr></tbody></table></figure></li><li>åœ¨ module ä¸‹é…ç½®<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: {<span class="comment">// loladers éµå¾ªmodule.rulesè§„åˆ™</span></span><br><span class="line">        rules: [<span class="comment">// è§„åˆ™</span></span><br><span class="line">            {<span class="comment">// å›¾ç‰‡</span></span><br><span class="line">                test: <span class="regexp">/\.(gif|png|jpg)$/</span>,</span><br><span class="line">                use: [{</span><br><span class="line">                    loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                    options: {</span><br><span class="line">                        limit: <span class="number">500</span>,<span class="comment">// é™åˆ¶æ–‡ä»¶å¤§å° 500kb</span></span><br><span class="line">                    }</span><br><span class="line">                }]</span><br><span class="line">            }</span><br><span class="line">        ]</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure></li></ol><h2 id="webpack-æ’ä»¶"><a href="#webpack-æ’ä»¶" class="headerlink" title="webpack æ’ä»¶"></a>webpack æ’ä»¶</h2><blockquote><p>loader è¢«ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚æ’ä»¶æ¥å£åŠŸèƒ½æå…¶å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†å„ç§å„æ ·çš„ä»»åŠ¡ã€‚æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦ require() å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ° plugins æ•°ç»„ä¸­ã€‚å¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹(option)è‡ªå®šä¹‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­å› ä¸ºä¸åŒç›®çš„è€Œå¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡ä½¿ç”¨ new æ“ä½œç¬¦æ¥åˆ›å»ºå®ƒçš„ä¸€ä¸ªå®ä¾‹ã€‚</p></blockquote><ul><li>é…ç½®æ¨¡æ¿ï¼Œåˆå¹¶æ–‡ä»¶</li></ul><ol><li>å®‰è£… html-webpack-plugin<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> html-webpack-<span class="keyword">plugin</span></span><br></pre></td></tr></tbody></table></figure></li><li>é…ç½®<br>å¼•å…¥<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br></pre></td></tr></tbody></table></figure>åœ¨ plugins ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> HtmlWebpackPlugin({</span><br><span class="line">        filename: <span class="string">'index.html'</span>,<span class="comment">// æ‰“åŒ…åçš„æ–‡ä»¶åå­—</span></span><br><span class="line">        chunks: [<span class="string">'index'</span>],<span class="comment">// å¼•å…¥çš„æ–‡ä»¶,å¯¹åº” entry ä¸­çš„åå­—</span></span><br><span class="line">        title: <span class="string">'æˆ‘æ˜¯æŒ‡å®šçš„æ ‡é¢˜'</span>,</span><br><span class="line">        template: <span class="string">'./src/index.html'</span>,</span><br><span class="line">        hash: <span class="literal">true</span>,<span class="comment">// é˜²æ­¢æµè§ˆå™¨ç¼“å­˜</span></span><br><span class="line">        minify: {<span class="comment">//å‹ç¼© html "" ''</span></span><br><span class="line">            collapseWhitespace: <span class="literal">true</span>,<span class="comment">// æŠ˜å æ„æˆæ–‡æ¡£trä¸­çš„æ–‡æœ¬èŠ‚ç‚¹çš„ç©ºç™½</span></span><br><span class="line">            removeAttributeQuotes: <span class="literal">true</span>,<span class="comment">// åˆ é™¤å±æ€§å‘¨å›´çš„å¼•å·</span></span><br><span class="line">        }</span><br><span class="line">    })</span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li>ä¸ºäº†é¿å…æ¯æ¬¡æ‰‹åŠ¨åˆ é™¤ dist æ–‡ä»¶å¤¹ å®‰è£… clean-webpack-plugin æ’ä»¶</li></ul><ol><li>å®‰è£…<figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> clean-webpack-<span class="keyword">plugin</span></span><br></pre></td></tr></tbody></table></figure></li><li>é…ç½®<br>å¼•å…¥<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> { CleanWebpackPlugin } = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br></pre></td></tr></tbody></table></figure>åœ¨ plugins ä¸‹æ·»åŠ å¦‚ä¸‹é…ç½®<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> CleanWebpackPlugin()<span class="comment">// åˆ é™¤ dist æ–‡ä»¶å¤¹</span></span><br></pre></td></tr></tbody></table></figure></li></ol><ul><li>å¦‚æœæœ‰é™æ€æ–‡ä»¶ï¼Œè¯¥æ€ä¹ˆè¾“å‡ºåˆ° public æ–‡ä»¶å¤¹å‘¢ï¼Ÿå¯ä»¥å®‰è£… copy-webpack-plugin</li></ul><ol><li>å®‰è£…<figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">npm install <span class="keyword">copy</span><span class="bash">-webpack-plugin</span></span><br></pre></td></tr></tbody></table></figure></li><li>é…ç½®<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> CopyWebpackPlugin = <span class="built_in">require</span>(<span class="string">'copy-webpack-plugin'</span>)</span><br></pre></td></tr></tbody></table></figure><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> CopyWebpackPlugin([<span class="comment">// é™æ€èµ„æºè¾“å‡º</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">from</span>: path.relative(__dirname, <span class="string">'src/assets/'</span>),</span><br><span class="line">            to: <span class="string">'../public'</span></span><br><span class="line">        }</span><br><span class="line">    ])</span><br></pre></td></tr></tbody></table></figure></li></ol><h2 id="webpack-å¼€å‘æœåŠ¡å™¨"><a href="#webpack-å¼€å‘æœåŠ¡å™¨" class="headerlink" title="webpack å¼€å‘æœåŠ¡å™¨"></a>webpack å¼€å‘æœåŠ¡å™¨</h2><ul><li>å¼€å‘æœåŠ¡å™¨çš„é…ç½®å¦‚ä¸‹<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">devServer: {<span class="comment">// å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line">    contentBase: path.join(__dirname, <span class="string">"dist"</span>), <span class="comment">//è®¾ç½®æœåŠ¡å™¨è®¿é—®çš„åŸºæœ¬ç›®å½•</span></span><br><span class="line">    host: <span class="string">'localhost'</span>, <span class="comment">//æœåŠ¡å™¨åœ°å€ï¼Œlocalhost</span></span><br><span class="line">    port: <span class="number">9000</span>,<span class="comment">//ç«¯å£å·ï¼Œå¦‚æœdeserverçš„é…ç½®æ²¡é—®é¢˜ï¼Œä½†æ˜¯é¡¹ç›®å¯åŠ¨å¤±è´¥äº†ï¼Œéœ€è¦æ³¨æ„è¯¥ç«¯å£å·æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">    compress: <span class="literal">true</span>,<span class="comment">//ä¸€åˆ‡æœåŠ¡éƒ½å¯ç”¨ gzip å‹ç¼©</span></span><br><span class="line">    open: <span class="literal">true</span>,<span class="comment">//æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€</span></span><br><span class="line">    <span class="comment">//hot:true,//webpack4ä¹‹å‰çš„ç‰ˆæœ¬çš„é…ç½®ï¼šçƒ­æ›´æ–°ï¼Œ4ä»¥åè¢«å¼±åŒ–ä¸éœ€è¦è¢«é…ç½®ä¼šè‡ªåŠ¨åˆ·æ–°</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>å®˜ç½‘åœ°å€ï¼š<a href="https://www.webpackjs.com/configuration/dev-server/#devserver" target="_blank" rel="noopener">https://www.webpackjs.com/configuration/dev-server/#devserver</a></li></ul><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>webpack</tag>
        <tag>å¼€å‘æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>webpackå…¥é—¨</title>
    <url>/2020/03/30/webpack%E5%85%A5%E9%97%A8/23985/</url>
    <content><![CDATA[<p>webpack æ˜¯åŸºäºNode.jså¼€å‘å‡ºæ¥çš„ä¸€ä¸ªå‰ç«¯é¡¹ç›®æ„å»ºå·¥å…·ã€‚å¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…æœºï¼ˆbundlerï¼‰ï¼Œé€šè¿‡åˆ†æé¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JavaScriptæ¨¡å—ä»¥åŠå…¶å®ƒçš„ä¸€äº›æµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œçš„æ‹“å±•è¯­è¨€ï¼ˆSass/lessï¼ˆcssé¢„å¤„ç†å™¨ï¼‰ï¼ŒTypeScriptç­‰ï¼‰ï¼Œå¹¶å°†å…¶æ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä»¥ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚</p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨-webpack"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨-webpack" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨ webpack"></a>ä¸ºä»€ä¹ˆä½¿ç”¨ webpack</h2><ol><li>è§£å†³ JavaScript å’Œ CSS çš„ä¾èµ–é—®é¢˜<ul><li>æ–‡ä»¶åŠ è½½é¡ºåºçš„é—®é¢˜ä¼šé€ æˆ css æ²¡ä½œç”¨æˆ– js ä¸­å˜é‡å’Œæ–¹æ³•æ‰¾ä¸åˆ°</li></ul></li><li>æ€§èƒ½ä¼˜åŒ–<ul><li>æ–‡ä»¶åˆå¹¶</li><li>æ–‡ä»¶å‹ç¼©</li></ul></li><li>æé«˜å¼€å‘æ•ˆç‡<ul><li>å•å…ƒæµ‹è¯•</li><li>vebdor å‰ç¼€</li><li>ä»£ç åˆ†æ</li></ul></li><li>ç‰ˆæœ¬å‡çº§</li></ol><h2 id="webpack-çš„ä½œç”¨"><a href="#webpack-çš„ä½œç”¨" class="headerlink" title="webpack çš„ä½œç”¨"></a>webpack çš„ä½œç”¨</h2><ol><li>å°†sass/less ç­‰é¢„ç¼–è¯‘çš„cssè¯­è¨€è½¬æ¢æˆæµè§ˆå™¨è¯†åˆ«çš„cssæ–‡ä»¶</li><li>èƒ½å¤Ÿå°†å¤šä¸ªé¢„ç¼–è¯‘æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</li><li>æ‰“åŒ…image/styles/assets/scrips/ç­‰å‰ç«¯å¸¸ç”¨çš„æ–‡ä»¶</li><li>æ­å»ºå¼€å‘ç¯å¢ƒå¼€å¯æœåŠ¡å™¨</li><li>ç›‘è§†æ–‡ä»¶æ”¹åŠ¨ï¼Œçƒ­éƒ¨ç½²ã€‚</li><li>å°†å•æ–‡ä»¶ç»„ä»¶(*.vue)ç±»å‹çš„æ–‡ä»¶ï¼Œè½¬åŒ–æˆæµè§ˆå™¨è¯†åˆ«çš„å†…å®¹</li></ol><h2 id="ä½¿ç”¨-webpack-æ­å»ºé¡¹ç›®"><a href="#ä½¿ç”¨-webpack-æ­å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨ webpack æ­å»ºé¡¹ç›®"></a>ä½¿ç”¨ webpack æ­å»ºé¡¹ç›®</h2><ol><li><p>é¦–å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½• domewebpack<br><br>åœ¨ç»ˆç«¯è¿›å…¥è¯¥ç›®å½•,åˆå§‹åŒ–é¡¹ç›®</p><figure class="highlight coffeescript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">npm</span> init -y</span><br></pre></td></tr></tbody></table></figure></li><li><p>å®‰è£… <code>webpack</code> &amp; <code>webpack-cli</code></p><figure class="highlight avrasm"><table><tbody><tr><td class="code"><pre><span class="line">npm i webpack webpack-<span class="keyword">cli</span> -D</span><br></pre></td></tr></tbody></table></figure></li><li><p>åˆ›å»ºæ–‡ä»¶<br>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º src æ–‡ä»¶å¤¹ï¼ˆæ”¾ç½®å…¥å£æ–‡ä»¶çš„åœ°æ–¹ï¼Œæºç ä¹Ÿæ”¾åœ¨è¿™é‡Œï¼‰<br>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º dist æ–‡ä»¶å¤¹ï¼ˆå‡ºå£æ–‡ä»¶æ–¹å¼çš„åœ°æ–¹ï¼‰</p></li><li><p>åˆ›å»ºdist/index.htmlæ–‡ä»¶,åŒ…å«id=rootçš„å…ƒç´ ï¼Œå¼•å…¥bundle.js</p><figure class="highlight html"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>åˆ›å»ºsrc/index.jsï¼Œé‡Œé¢ç»™rootå…ƒç´ è®¾ç½®innerhtml</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">'root'</span>).innerHTML=<span class="string">'webpacké¡¹ç›®'</span></span><br></pre></td></tr></tbody></table></figure></li><li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º webpack.config.js æ–‡ä»¶</p><figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">    mode: <span class="string">'development'</span>,<span class="comment">// å‘å¸ƒç‰ˆï¼šproduction å¼€å‘æ¿ï¼šdevelopment</span></span><br><span class="line">    entry: {<span class="comment">// å…¥å£</span></span><br><span class="line">        entryKey: <span class="string">'./src/index.js'</span>,<span class="comment">// entryKey æ˜¯è‡ªå®šä¹‰çš„</span></span><br><span class="line">    },</span><br><span class="line">    <span class="comment">// module: {// loladers éµå¾ªmodule.rulesè§„åˆ™</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// },</span></span><br><span class="line">    <span class="comment">// plugins: [</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ],</span></span><br><span class="line">    output: {<span class="comment">// å‡ºå£</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,<span class="comment">// æ‰“åŒ…åçš„æ–‡ä»¶å filenameæ˜¯å›ºå®šçš„</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),<span class="comment">// è·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line">    },</span><br><span class="line">    <span class="comment">// devServer: {// å¼€å‘æœåŠ¡å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// }</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li><li><p>åœ¨ package.json æ–‡ä»¶ scripts ä¸‹é…ç½® <code>"biuild": "npx webpack --config webpack.config.js"</code></p><figure class="highlight stata"><table><tbody><tr><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: {</span><br><span class="line">    <span class="string">"biuild"</span>: <span class="string">"npx webpack --config webpack.config.js"</span>,</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"</span><span class="keyword">Error</span>: <span class="keyword">no</span> <span class="keyword">test</span> specified\<span class="string">" &amp;&amp; exit 1"</span></span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure></li><li><p>åœ¨ç»ˆç«¯è¿è¡Œæ‰“åŒ…å‘½ä»¤</p><figure class="highlight dockerfile"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="keyword">run</span><span class="bash"> build</span></span><br></pre></td></tr></tbody></table></figure><p>åœ¨æµè§ˆå™¨æ‰“å¼€ index.html å°±å¯ä»¥çœ‹åˆ° å·²ç»æ‰“å°å‡º <code>webpacké¡¹ç›®</code> å­—ä½“äº†ã€‚</p></li></ol><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>webpack</category>
      </categories>
      <tags>
        <tag>webpack</tag>
        <tag>å…¥é—¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ç« ç½®é¡¶</title>
    <url>/2020/03/26/%E6%96%87%E7%AB%A0%E7%BD%AE%E9%A1%B6/36265/</url>
    <content><![CDATA[<p>æœ‰çš„æ—¶å€™ï¼Œå†™å¥½ä¸€ç¯‡æ–‡ç« ï¼Œæƒ³è¦ç½®é¡¶ï¼Œä½† next é»˜è®¤æ˜¯æŒ‰ç…§æ—¶é—´æ¥è¿›è¡Œæ’åºçš„ï¼Œè‡ªå·±å†™çš„æ–‡ç« æ€»ä¸èƒ½é ä¿®æ”¹åˆ›ä½œæ—¶é—´æ¥è¿›è¡Œç½®é¡¶å§ã€‚æƒ³è¦é€šè¿‡ä¸€ä¸ªæƒé‡æ¥è¿›è¡Œæ’åºï¼Œä½†è‹¦è‹¦æ²¡æœ‰åŠæ³•ï¼Œä»Šå¤©å®ƒæ¥äº†</p><a id="more"></a><h2 id="è®¾ç½®æ–‡ç« ç½®é¡¶"><a href="#è®¾ç½®æ–‡ç« ç½®é¡¶" class="headerlink" title="è®¾ç½®æ–‡ç« ç½®é¡¶"></a>è®¾ç½®æ–‡ç« ç½®é¡¶</h2><ol><li>ä¿®æ”¹ä»“åº“é…ç½®ï¼Œä½¿å…¶æ”¯æŒæ–‡ç« ç½®é¡¶åŠŸèƒ½<br>å¸è½½ hexo-generator-index<figure class="highlight axapta"><table><tbody><tr><td class="code"><pre><span class="line">npm r hexo-generator-<span class="keyword">index</span></span><br></pre></td></tr></tbody></table></figure>å®‰è£… hexo-generator-index-pin-top<figure class="highlight stylus"><table><tbody><tr><td class="code"><pre><span class="line">npm <span class="selector-tag">i</span> hexo-generator-index-pin-<span class="attribute">top</span> -S</span><br></pre></td></tr></tbody></table></figure></li><li>åœ¨æ–‡ç« ä¸­æ·»åŠ ç½®é¡¶ä¿¡æ¯<br>æ·»åŠ  top<figure class="highlight subunit"><table><tbody><tr><td class="code"><pre><span class="line">title: æ–‡ç« ç½®é¡¶</span><br><span class="line"><span class="keyword">tags:</span></span><br><span class="line">  - æ ‡ç­¾</span><br><span class="line">categories:</span><br><span class="line">  - åˆ†ç±»</span><br><span class="line">copyright: true</span><br><span class="line">date: 2020<span class="string">-03</span><span class="string">-26</span> 12:59:02</span><br><span class="line">top:10</span><br></pre></td></tr></tbody></table></figure>top åæ•°å­—è¶Šå¤§ï¼Œæƒé™è¶Šé«˜</li></ol><h2 id="æ·»åŠ ç½®é¡¶æ ‡å¿—"><a href="#æ·»åŠ ç½®é¡¶æ ‡å¿—" class="headerlink" title="æ·»åŠ ç½®é¡¶æ ‡å¿—"></a>æ·»åŠ ç½®é¡¶æ ‡å¿—</h2><p>æ‰“å¼€ï¼š/bolg/themes/next/layout/_macro/post.swig æ–‡ä»¶<br>åœ¨<code>&lt;span class='post-time'&gt;</code> æ ‡ç­¾ä¸‹ï¼Œæ’å…¥ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line"> {% if post.top %}</span><br><span class="line">      &lt;span class="post-meta-item-icon"&gt;</span><br><span class="line">      &lt;i class="fa fa-thumb-tack"&gt;&lt;/i&gt;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">      &lt;font color=red&gt;ç½®é¡¶&lt;/font&gt;</span><br><span class="line">      &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;</span><br><span class="line">{% endif %}</span><br></pre></td></tr></tbody></table></figure><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>next</tag>
        <tag>æ–‡ç« ç½®é¡¶</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢</title>
    <url>/2020/03/21/Hello/16108/</url>
    <content><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œåœ¨é—²æš‡ä¹‹ä½™ï¼Œæ­äº†ä¸ªåšå®¢ï¼Œç”¨æ¥è®°å½•ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ è¿‡ç¨‹ï¼Œä¿—è¯è¯´å¾—å¥½ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ã€‚è¿˜è®°å¾—ä¸Šå­¦çš„æ—¶å€™ï¼Œè€å¸ˆç»å¸¸å¯¹æˆ‘ä»¬è¯´è¿™å¥è¯ã€‚è™½ç„¶å½“æ—¶ä¹Ÿï¼ˆè¢«è¿«ï¼‰å…»æˆäº†è¿™ä¸ªä¹ æƒ¯ï¼Œä½†æ˜¯è¿˜æ˜¯å¾ˆæŠµè§¦çš„ï¼ˆæ‡’å•Š~ï¼‰ã€‚</p><a id="more"></a><h2 id="ä¸ºä»€ä¹ˆè¦å†™åšå®¢"><a href="#ä¸ºä»€ä¹ˆè¦å†™åšå®¢" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å†™åšå®¢"></a>ä¸ºä»€ä¹ˆè¦å†™åšå®¢</h2><ul><li><strong>ç§¯ç´¯</strong> å†™åšå®¢ä¸»è¦æ˜¯ç§¯ç´¯ç»éªŒï¼Œè®°å½•ç”Ÿæ´»ä¸­çš„æ”¶è·ï¼Œ</li><li><strong>è®°å½•</strong> æŠŠåšå®¢å½“åšæ˜¯æ—¥è®°ï¼Œè®°å½•å·¥ä½œç”Ÿæ´»ä¸­çš„æ‰€è§æ‰€é—»ï¼Œæ‰€æ€æ‰€æƒ³ã€‚</li><li><strong>äº¤æµ</strong> åšå®¢æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„åœˆå­ã€‚</li><li><strong>å­¦ä¹ </strong> åœ¨è¿™é‡Œæ€»ä¼šå­¦åˆ°çŸ¥è¯†çš„ï¼Œæ­£å¦‚æ¯å¤©éƒ½ä¼šé˜…è¯»ã€‚</li></ul><h2 id="å†™åšå®¢å½“ç„¶å¾—å…ˆäº†è§£ä¸€ä¸‹-Markdown"><a href="#å†™åšå®¢å½“ç„¶å¾—å…ˆäº†è§£ä¸€ä¸‹-Markdown" class="headerlink" title="å†™åšå®¢å½“ç„¶å¾—å…ˆäº†è§£ä¸€ä¸‹ Markdown"></a>å†™åšå®¢å½“ç„¶å¾—å…ˆäº†è§£ä¸€ä¸‹ Markdown</h2><blockquote><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæ ¼å¼ä¸°å¯Œçš„HTMLé¡µé¢ã€‚</p></blockquote><p>å¥½å•¦ï¼Œè¿™å°±æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢äº†ï¼Œå…ˆè®°å½•åˆ°è¿™é‡Œï¼Œæˆ‘çš„åšå®¢ä¹‹è·¯å°†ä»è¿™é‡Œå‡ºå‘ï¼</p><!-- rebuild by neat --><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>æ‚è®°</category>
      </categories>
  </entry>
</search>
